!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){r(1),t.exports=r(4)},function(t,e,r){var n,o;(function(t){(function(){"use strict";function i(t){function e(e){return function(r){return t(e,r)}}return e.arity=2,e.func=t,e}function a(t){function e(e){return function(r){return function(n){return t(e,r,n)}}}return e.arity=3,e.func=t,e}function u(t){function e(e){return function(r){return function(n){return function(o){return t(e,r,n,o)}}}}return e.arity=4,e.func=t,e}function c(t){function e(e){return function(r){return function(n){return function(o){return function(i){return t(e,r,n,o,i)}}}}}return e.arity=5,e.func=t,e}function f(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(a){return t(e,r,n,o,i,a)}}}}}}return e.arity=6,e.func=t,e}function s(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(a){return function(u){return t(e,r,n,o,i,a,u)}}}}}}}return e.arity=7,e.func=t,e}function l(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(a){return function(u){return function(c){return t(e,r,n,o,i,a,u,c)}}}}}}}}return e.arity=8,e.func=t,e}function d(t){function e(e){return function(r){return function(n){return function(o){return function(i){return function(a){return function(u){return function(c){return function(f){return t(e,r,n,o,i,a,u,c,f)}}}}}}}}}return e.arity=9,e.func=t,e}function h(t,e,r){return 2===t.arity?t.func(e,r):t(e)(r)}function _(t,e,r,n){return 3===t.arity?t.func(e,r,n):t(e)(r)(n)}function g(t,e,r,n,o){return 4===t.arity?t.func(e,r,n,o):t(e)(r)(n)(o)}function p(t,e,r,n,o,i){return 5===t.arity?t.func(e,r,n,o,i):t(e)(r)(n)(o)(i)}function v(t,e,r,n,o,i,a){return 6===t.arity?t.func(e,r,n,o,i,a):t(e)(r)(n)(o)(i)(a)}var y=function(){function t(t,r){if(t<0||t>=N(r))throw new Error("Index "+t+" is out of range. Check the length of your array first or use getMaybe or getWithDefault.");return e(t,r)}function e(t,e){for(var r=e.height;r>0;r--){for(var n=t>>5*r;e.lengths[n]<=t;)n++;n>0&&(t-=e.lengths[n-1]),e=e.table[n]}return e.table[t]}function r(t,e,r){return t<0||N(r)<=t?r:n(t,e,r)}function n(t,e,r){if(r=D(r),0===r.height)r.table[t]=e;else{var o=F(t,r);o>0&&(t-=r.lengths[o-1]),r.table[o]=n(t,e,r.table[o])}return r}function o(t,e){if(t<=0)return G;var r=Math.floor(Math.log(t)/Math.log(J));return u(e,r,0,t)}function u(t,e,r,n){if(0===e){for(var o=new Array((n-r)%(J+1)),i=0;i<o.length;i++)o[i]=t(r+i);return{ctor:"_Array",height:0,table:o}}for(var a=Math.pow(J,e),o=new Array(Math.ceil((n-r)/a)),c=new Array(o.length),i=0;i<o.length;i++)o[i]=u(t,e-1,r+i*a,Math.min(r+(i+1)*a,n)),c[i]=N(o[i])+(i>0?c[i-1]:0);return{ctor:"_Array",height:e,table:o,lengths:c}}function c(t){if("[]"===t.ctor)return G;for(var e=new Array(J),r=[],n=0;"[]"!==t.ctor;)if(e[n]=t._0,t=t._1,n++,n===J){var o={ctor:"_Array",height:0,table:e};f(o,r),e=new Array(J),n=0}if(n>0){var o={ctor:"_Array",height:0,table:e.splice(0,n)};f(o,r)}for(var i=0;i<r.length-1;i++)r[i].table.length>0&&f(r[i],r);var a=r[r.length-1];return a.height>0&&1===a.table.length?a.table[0]:a}function f(t,e){var r=t.height;if(e.length===r){var n={ctor:"_Array",height:r+1,table:[],lengths:[]};e.push(n)}e[r].table.push(t);var o=N(t);e[r].lengths.length>0&&(o+=e[r].lengths[e[r].lengths.length-1]),e[r].lengths.push(o),e[r].table.length===J&&(f(e[r],e),e[r]={ctor:"_Array",height:r+1,table:[],lengths:[]})}function s(t,e){var r=l(t,e);if(null!==r)return r;var n=U(t,e.height);return z(e,n)}function l(t,e){if(0===e.height){if(e.table.length<J){var r={ctor:"_Array",height:0,table:e.table.slice()};return r.table.push(t),r}return null}var n=l(t,M(e));if(null!==n){var r=D(e);return r.table[r.table.length-1]=n,r.lengths[r.lengths.length-1]++,r}if(e.table.length<J){var o=U(t,e.height-1),r=D(e);return r.table.push(o),r.lengths.push(r.lengths[r.lengths.length-1]+N(o)),r}return null}function d(t){return _(O.Nil,t)}function _(t,e){for(var r=e.table.length-1;r>=0;r--)t=0===e.height?O.Cons(e.table[r],t):_(t,e.table[r]);return t}function g(t,e){var r={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(r.lengths=e.lengths);for(var n=0;n<e.table.length;n++)r.table[n]=0===e.height?t(e.table[n]):g(t,e.table[n]);return r}function p(t,e){return v(t,e,0)}function v(t,e,r){var n={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(n.lengths=e.lengths);for(var o=0;o<e.table.length;o++)n.table[o]=0===e.height?h(t,r+o,e.table[o]):v(t,e.table[o],0==o?r:r+e.lengths[o-1]);return n}function y(t,e,r){if(0===r.height)for(var n=0;n<r.table.length;n++)e=h(t,r.table[n],e);else for(var n=0;n<r.table.length;n++)e=y(t,e,r.table[n]);return e}function m(t,e,r){if(0===r.height)for(var n=r.table.length;n--;)e=h(t,r.table[n],e);else for(var n=r.table.length;n--;)e=m(t,e,r.table[n]);return e}function b(t,e,r){return t<0&&(t+=N(r)),e<0&&(e+=N(r)),T(t,w(e,r))}function w(t,e){if(t===N(e))return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(0,t),r}var n=F(t,e),o=w(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(0===n)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(0,n),lengths:e.lengths.slice(0,n)};return o.table.length>0&&(r.table[n]=o,r.lengths[n]=N(o)+(n>0?r.lengths[n-1]:0)),r}function T(t,e){if(0===t)return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(t,e.table.length+1),r}var n=F(t,e),o=T(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(n===e.table.length-1)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(n,e.table.length+1),lengths:new Array(e.table.length-n)};r.table[0]=o;for(var i=0,a=0;a<r.table.length;a++)i+=N(r.table[a]),r.lengths[a]=i;return r}function k(t,e){if(0===t.table.length)return e;if(0===e.table.length)return t;var r=R(t,e);if(r[0].table.length+r[1].table.length<=J){if(0===r[0].table.length)return r[1];if(0===r[1].table.length)return r[0];if(r[0].table=r[0].table.concat(r[1].table),r[0].height>0){for(var n=N(r[0]),o=0;o<r[1].lengths.length;o++)r[1].lengths[o]+=n;r[0].lengths=r[0].lengths.concat(r[1].lengths)}return r[0]}if(r[0].height>0){var i=S(t,e);i>X&&(r=L(r[0],r[1],i))}return z(r[0],r[1])}function R(t,e){if(0===t.height&&0===e.height)return[t,e];if(1!==t.height||1!==e.height)if(t.height===e.height){t=D(t),e=D(e);var r=R(M(t),x(e));A(t,r[1]),E(e,r[0])}else if(t.height>e.height){t=D(t);var r=R(M(t),e);A(t,r[0]),e=j(r[1],r[1].height+1)}else{e=D(e);var r=R(t,x(e)),n=0===r[0].table.length?0:1,o=0===n?1:0;E(e,r[n]),t=j(r[o],r[o].height+1)}if(0===t.table.length||0===e.table.length)return[t,e];var i=S(t,e);return i<=X?[t,e]:L(t,e,i)}function A(t,e){var r=t.table.length-1;t.table[r]=e,t.lengths[r]=N(e),t.lengths[r]+=r>0?t.lengths[r-1]:0}function E(t,e){if(e.table.length>0){t.table[0]=e,t.lengths[0]=N(e);for(var r=N(t.table[0]),n=1;n<t.lengths.length;n++)r+=N(t.table[n]),t.lengths[n]=r}else{t.table.shift();for(var n=1;n<t.lengths.length;n++)t.lengths[n]=t.lengths[n]-t.lengths[0];t.lengths.shift()}}function S(t,e){for(var r=0,n=0;n<t.table.length;n++)r+=t.table[n].table.length;for(var n=0;n<e.table.length;n++)r+=e.table[n].table.length;var o=t.table.length+e.table.length;return o-(Math.floor((r-1)/J)+1)}function B(t,e,r){return r<t.length?t[r]:e[r-t.length]}function C(t,e,r,n){r<t.length?t[r]=n:e[r-t.length]=n}function P(t,e,r,n){C(t.table,e.table,r,n);var o=0===r||r===t.lengths.length?0:B(t.lengths,t.lengths,r-1);C(t.lengths,e.lengths,r,o+N(n))}function I(t,e){e<0&&(e=0);var r={ctor:"_Array",height:t,table:new Array(e)};return t>0&&(r.lengths=new Array(e)),r}function L(t,e,r){for(var n=I(t.height,Math.min(J,t.table.length+e.table.length-r)),o=I(t.height,n.table.length-(t.table.length+e.table.length-r)),i=0;B(t.table,e.table,i).table.length%J===0;)C(n.table,o.table,i,B(t.table,e.table,i)),C(n.lengths,o.lengths,i,B(t.lengths,e.lengths,i)),i++;for(var a=i,u=new I(t.height-1,0),c=0;i-a-(u.table.length>0?1:0)<r;){var f=B(t.table,e.table,i),s=Math.min(J-u.table.length,f.table.length);if(u.table=u.table.concat(f.table.slice(c,s)),u.height>0)for(var l=u.lengths.length,d=l;d<l+s-c;d++)u.lengths[d]=N(u.table[d]),u.lengths[d]+=d>0?u.lengths[d-1]:0;c+=s,f.table.length<=s&&(i++,c=0),u.table.length===J&&(P(n,o,a,u),u=I(t.height-1,0),a++)}for(u.table.length>0&&(P(n,o,a,u),a++);i<t.table.length+e.table.length;)P(n,o,a,B(t.table,e.table,i)),i++,a++;return[n,o]}function M(t){return t.table[t.table.length-1]}function x(t){return t.table[0]}function D(t){var e={ctor:"_Array",height:t.height,table:t.table.slice()};return t.height>0&&(e.lengths=t.lengths.slice()),e}function N(t){return 0===t.height?t.table.length:t.lengths[t.lengths.length-1]}function F(t,e){for(var r=t>>5*e.height;e.lengths[r]<=t;)r++;return r}function U(t,e){return 0===e?{ctor:"_Array",height:0,table:[t]}:{ctor:"_Array",height:e,table:[U(t,e-1)],lengths:[1]}}function j(t,e){return e===t.height?t:{ctor:"_Array",height:e,table:[j(t,e-1)],lengths:[N(t)]}}function z(t,e){return{ctor:"_Array",height:t.height+1,table:[t,e],lengths:[N(t),N(t)+N(e)]}}function Y(t){var e=new Array(N(t));return q(e,0,t),e}function q(t,e,r){for(var n=0;n<r.table.length;n++)if(0===r.height)t[e+n]=r.table[n];else{var o=0===n?0:r.lengths[n-1];q(t,e+o,r.table[n])}}function H(t){if(0===t.length)return G;var e=Math.floor(Math.log(t.length)/Math.log(J));return W(t,e,0,t.length)}function W(t,e,r,n){if(0===e)return{ctor:"_Array",height:0,table:t.slice(r,n)};for(var o=Math.pow(J,e),i=new Array(Math.ceil((n-r)/o)),a=new Array(i.length),u=0;u<i.length;u++)i[u]=W(t,e-1,r+u*o,Math.min(r+(u+1)*o,n)),a[u]=N(i[u])+(u>0?a[u-1]:0);return{ctor:"_Array",height:e,table:i,lengths:a}}var J=32,X=2,G={ctor:"_Array",height:0,table:[]};return{empty:G,fromList:c,toList:d,initialize:i(o),append:i(k),push:i(s),slice:a(b),get:i(t),set:a(r),map:i(g),indexedMap:i(p),foldl:a(y),foldr:a(m),length:N,toJSArray:Y,fromJSArray:H}}(),m=function(){function t(t,e){return t/e|0}function e(t,e){return t%e}function r(t,e){if(0===e)throw new Error("Cannot perform mod 0. Division by zero error.");var n=t%e,o=0===t?0:e>0?t>=0?n:n+e:-r(-t,-e);return o===e?0:o}function n(t,e){return Math.log(e)/Math.log(t)}function o(t){return-t}function u(t){return t<0?-t:t}function c(t,e){return b.cmp(t,e)<0?t:e}function f(t,e){return b.cmp(t,e)>0?t:e}function s(t,e,r){return b.cmp(r,t)<0?t:b.cmp(r,e)>0?e:r}function l(t,e){return{ctor:w[b.cmp(t,e)+1]}}function d(t,e){return t!==e}function h(t){return!t}function _(t){return t===1/0||t===-(1/0)}function g(t){return 0|t}function p(t){return t*Math.PI/180}function v(t){return 2*Math.PI*t}function y(t){var e=t._0,r=t._1;return b.Tuple2(e*Math.cos(r),e*Math.sin(r))}function m(t){var e=t._0,r=t._1;return b.Tuple2(Math.sqrt(e*e+r*r),Math.atan2(r,e))}var w=["LT","EQ","GT"];return{div:i(t),rem:i(e),mod:i(r),pi:Math.PI,e:Math.E,cos:Math.cos,sin:Math.sin,tan:Math.tan,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:i(Math.atan2),degrees:p,turns:v,fromPolar:y,toPolar:m,sqrt:Math.sqrt,logBase:i(n),negate:o,abs:u,min:i(c),max:i(f),clamp:a(s),compare:i(l),xor:i(d),not:h,truncate:g,ceiling:Math.ceil,floor:Math.floor,round:Math.round,toFloat:function(t){return t},isNaN:isNaN,isInfinite:_}}(),b=function(){function t(t,e){for(var r=[{x:t,y:e}];r.length>0;){var n=r.pop(),o=n.x,i=n.y;if(o!==i){if("object"!=typeof o){if("function"==typeof o)throw new Error("Equality error: general function equality is undecidable, and therefore, unsupported");return!1}var a=0;for(var u in o){if(++a,!(u in i))return!1;"ctor"!==u&&r.push({x:o[u],y:i[u]})}if("ctor"in o&&r.push({x:o.ctor,y:i.ctor}),a!==Object.keys(i).length)return!1}}return!0}function e(t,r){var n;if("object"!=typeof t)return t===r?p:t<r?g:v;if(t instanceof String){var o=t.valueOf(),i=r.valueOf();return o===i?p:o<i?g:v}if("::"!==t.ctor&&"[]"!==t.ctor){if("_Tuple"===t.ctor.slice(0,6)){var a=t.ctor.slice(6)-0,u="cannot compare tuples with more than 6 elements.";if(0===a)return p;if(a>=1){if(n=e(t._0,r._0),n!==p)return n;if(a>=2){if(n=e(t._1,r._1),n!==p)return n;if(a>=3){if(n=e(t._2,r._2),n!==p)return n;if(a>=4){if(n=e(t._3,r._3),n!==p)return n;if(a>=5){if(n=e(t._4,r._4),n!==p)return n;if(a>=6){if(n=e(t._5,r._5),n!==p)return n;if(a>=7)throw new Error("Comparison error: "+u)}}}}}}return p}throw new Error("Comparison error: comparison is only defined on ints, floats, times, chars, strings, lists of comparable values, and tuples of comparable values.")}for(;;){if("[]"===t.ctor&&"[]"===r.ctor)return p;if(t.ctor!==r.ctor)return"[]"===t.ctor?g:v;if(n=e(t._0,r._0),n!==p)return n;t=t._1,r=r._1}}function r(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}function n(t){return new String(t)}function o(t){return m++}function a(t,e){var r={};for(var n in t){var o=n in e?e[n]:t[n];r[n]=o}return r}function u(t,e){return{ctor:"::",_0:t,_1:e}}function c(t,e){if("string"==typeof t)return t+e;if("[]"===t.ctor)return e;var r=u(t._0,b),n=r;for(t=t._1;"[]"!==t.ctor;)n._1=u(t._0,b),t=t._1,n=n._1;return n._1=e,r}function f(t,e){return function(r){throw new Error("Ran into a `Debug.crash` in module `"+t+"` "+l(e)+"\nThe message provided by the code author is:\n\n    "+r)}}function s(t,e,r){return function(n){throw new Error("Ran into a `Debug.crash` in module `"+t+"`\n\nThis was caused by the `case` expression "+l(e)+".\nOne of the branches ended with a crash and the following value got through:\n\n    "+d(r)+"\n\nThe message provided by the code author is:\n\n    "+n)}}function l(t){return t.start.line==t.end.line?"on line "+t.start.line:"between lines "+t.start.line+" and "+t.end.line}function d(t){var e=typeof t;if("function"===e){var r=t.func?t.func.name:t.name;return"<function"+(""===r?"":":")+r+">"}if("boolean"===e)return t?"True":"False";if("number"===e)return t+"";if(t instanceof String)return"'"+_(t,!0)+"'";if("string"===e)return'"'+_(t,!1)+'"';if(null===t)return"null";if("object"===e&&"ctor"in t){var n=t.ctor.substring(0,5);if("_Tupl"===n){var o=[];for(var i in t)"ctor"!==i&&o.push(d(t[i]));return"("+o.join(",")+")"}if("_Task"===n)return"<task>";if("_Array"===t.ctor){var a=tt(t);return"Array.fromList "+d(a)}if("<decoder>"===t.ctor)return"<decoder>";if("_Process"===t.ctor)return"<process:"+t.id+">";if("::"===t.ctor){var o="["+d(t._0);for(t=t._1;"::"===t.ctor;)o+=","+d(t._0),t=t._1;return o+"]"}if("[]"===t.ctor)return"[]";if("RBNode_elm_builtin"===t.ctor||"RBEmpty_elm_builtin"===t.ctor||"Set_elm_builtin"===t.ctor){var r,a;return"Set_elm_builtin"===t.ctor?(r="Set",a=h(z,function(t){return t._0},xt(t._0))):(r="Dict",a=xt(t)),r+".fromList "+d(a)}var o="";for(var u in t)if("ctor"!==u){var c=d(t[u]),f=c[0],s="{"===f||"("===f||"<"===f||'"'===f||c.indexOf(" ")<0;o+=" "+(s?c:"("+c+")")}return t.ctor+o}if("object"===e){var o=[];for(var i in t)o.push(i+" = "+d(t[i]));return 0===o.length?"{}":"{ "+o.join(", ")+" }"}return"<internal structure>"}function _(t,e){var r=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?r.replace(/\'/g,"\\'"):r.replace(/\"/g,'\\"')}var g=-1,p=0,v=1,y={ctor:"_Tuple0"},m=0,b={ctor:"[]"};return{eq:t,cmp:e,Tuple0:y,Tuple2:r,chr:n,update:a,guid:o,append:i(c),crash:f,crashCase:s,toString:d}}(),w=(i(function(t,e){var r=e;return h(t,r._0,r._1)}),a(function(t,e,r){return t({ctor:"_Tuple2",_0:e,_1:r})}),a(function(t,e,r){return h(t,r,e)}),function(t){var e=t;return e._1}),T=function(t){var e=t;return e._0},k=i(function(t,e){return t}),R=R||{};R["<|"]=i(function(t,e){return t(e)});var R=R||{};R["|>"]=i(function(t,e){return e(t)});var R=R||{};R[">>"]=a(function(t,e,r){return e(t(r))});var R=R||{};R["<<"]=a(function(t,e,r){return t(e(r))});var R=R||{};R["++"]=b.append;var A=b.toString,E=(m.isInfinite,m.isNaN,m.toFloat,m.ceiling,m.floor,m.truncate,m.round,m.not),R=(m.xor,R||{});R["||"]=m.or;var R=R||{};R["&&"]=m.and;var S=(m.max,m.min,m.compare),R=R||{};R[">="]=m.ge;var R=R||{};R["<="]=m.le;var R=R||{};R[">"]=m.gt;var R=R||{};R["<"]=m.lt;var R=R||{};R["/="]=m.neq;var R=R||{};R["=="]=m.eq;var R=(m.e,m.pi,m.clamp,m.logBase,m.abs,m.negate,m.sqrt,m.atan2,m.atan,m.asin,m.acos,m.tan,m.sin,m.cos,R||{});R["^"]=m.exp;var R=R||{};R["%"]=m.mod;var R=(m.rem,R||{});R["//"]=m.div;var R=R||{};R["/"]=m.floatDiv;var R=R||{};R["*"]=m.mul;var R=R||{};R["-"]=m.sub;var R=R||{};R["+"]=m.add;var B=(m.toPolar,m.fromPolar,m.turns,m.degrees,i(function(t,e){var r=e;return"Just"===r.ctor?r._0:t}),{ctor:"Nothing"}),C=i(function(t,e){var r=t;return"Just"===r.ctor?e(r._0):B}),P=function(t){return{ctor:"Just",_0:t}},O=(i(function(t,e){var r=e;return"Just"===r.ctor?P(t(r._0)):B}),a(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"_Tuple2"===n.ctor&&"Just"===n._0.ctor&&"Just"===n._1.ctor?P(h(t,n._0._0,n._1._0)):B}),u(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"_Tuple3"===o.ctor&&"Just"===o._0.ctor&&"Just"===o._1.ctor&&"Just"===o._2.ctor?P(_(t,o._0._0,o._1._0,o._2._0)):B}),c(function(t,e,r,n,o){var i={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"_Tuple4"===i.ctor&&"Just"===i._0.ctor&&"Just"===i._1.ctor&&"Just"===i._2.ctor&&"Just"===i._3.ctor?P(g(t,i._0._0,i._1._0,i._2._0,i._3._0)):B}),f(function(t,e,r,n,o,i){var a={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:i};return"_Tuple5"===a.ctor&&"Just"===a._0.ctor&&"Just"===a._1.ctor&&"Just"===a._2.ctor&&"Just"===a._3.ctor&&"Just"===a._4.ctor?P(p(t,a._0._0,a._1._0,a._2._0,a._3._0,a._4._0)):B}),function(){function t(t,e){return{ctor:"::",_0:t,_1:e}}function e(e){for(var r=w,n=e.length;n--;)r=t(e[n],r);return r}function r(t){for(var e=[];"[]"!==t.ctor;)e.push(t._0),t=t._1;return e}function n(e,r){var n=w;if(e<=r)do n=t(r,n);while(r-- >e);return n}function o(t,e,n){for(var o=r(n),i=e,a=o.length;a--;)i=h(t,o[a],i);return i}function s(t,r,n){for(var o=[];"[]"!==r.ctor&&"[]"!==n.ctor;)o.push(h(t,r._0,n._0)),r=r._1,n=n._1;return e(o)}function l(t,r,n,o){for(var i=[];"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor;)i.push(_(t,r._0,n._0,o._0)),r=r._1,n=n._1,o=o._1;return e(i)}function d(t,r,n,o,i){for(var a=[];"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor&&"[]"!==i.ctor;)a.push(g(t,r._0,n._0,o._0,i._0)),r=r._1,n=n._1,o=o._1,i=i._1;return e(a)}function v(t,r,n,o,i,a){for(var u=[];"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor&&"[]"!==i.ctor&&"[]"!==a.ctor;)u.push(p(t,r._0,n._0,o._0,i._0,a._0)),r=r._1,n=n._1,o=o._1,i=i._1,a=a._1;return e(u)}function y(t,n){return e(r(n).sort(function(e,r){return b.cmp(t(e),t(r))}))}function m(t,n){return e(r(n).sort(function(e,r){var n=t(e)(r).ctor;return"EQ"===n?0:"LT"===n?-1:1}))}var w={ctor:"[]"};return{Nil:w,Cons:t,cons:i(t),toArray:r,fromArray:e,range:n,foldr:a(o),map2:a(s),map3:u(l),map4:c(d),map5:f(v),sortBy:i(y),sortWith:i(m)}}()),I=(O.sortWith,O.sortBy,i(function(t,e){for(;;){if(b.cmp(t,0)<1)return e;var r=e;if("[]"===r.ctor)return e;var n=t-1,o=r._1;t=n,e=o}}),O.map5,O.map4,O.map3,O.map2),L=i(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return!1;if(t(r._0))return!0;var n=t,o=r._1;t=n,e=o}}),M=(i(function(t,e){return E(h(L,function(e){return E(t(e))},e))}),O.foldr),x=a(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return e;var o=t,i=h(t,n._0,e),a=n._1;t=o,e=i,r=a}}),D=function(t){return _(x,i(function(t,e){return e+1}),0,t)},N=i(function(t,e){return _(I,t,O.range(0,D(e)-1),e)}),F=(i(function(t,e){return h(L,function(e){return b.eq(e,t)},e)}),function(t){var e=t;return"[]"===e.ctor}),U=function(t){var e=t;return"::"===e.ctor?P(e._0):B},j=j||{};j["::"]=O.cons;var z=i(function(t,e){return _(M,i(function(e,r){return h(j["::"],t(e),r)}),O.fromArray([]),e)}),Y=i(function(t,e){var r=i(function(e,r){return t(e)?h(j["::"],e,r):r});return _(M,r,O.fromArray([]),e)}),q=a(function(t,e,r){var n=t(e);return"Just"===n.ctor?h(j["::"],n._0,r):r}),H=(i(function(t,e){return _(M,q(t),O.fromArray([]),e)}),function(t){return _(x,i(function(t,e){return h(j["::"],t,e)}),O.fromArray([]),t)}),W=(a(function(t,e,r){var n=i(function(e,r){var n=r;return"::"===n.ctor?h(j["::"],h(t,e,n._0),r):O.fromArray([])});return H(_(x,n,O.fromArray([e]),r))}),i(function(t,e){var r=e;return"[]"===r.ctor?t:_(M,i(function(t,e){return h(j["::"],t,e)}),e,t)})),J=function(t){return _(M,W,O.fromArray([]),t)},X=(i(function(t,e){return J(h(z,t,e))}),i(function(t,e){var r=i(function(e,r){var n=r,o=n._0,i=n._1;return t(e)?{ctor:"_Tuple2",_0:h(j["::"],e,o),_1:i}:{ctor:"_Tuple2",_0:o,_1:h(j["::"],e,i)}});return _(M,r,{ctor:"_Tuple2",_0:O.fromArray([]),_1:O.fromArray([])},e)}),i(function(t,e){var r=e;if("[]"===r.ctor)return O.fromArray([]);var n=i(function(e,r){return h(j["::"],t,h(j["::"],e,r))}),o=_(M,n,O.fromArray([]),r._1);return h(j["::"],r._0,o)}),i(function(t,e){if(b.cmp(t,0)<1)return O.fromArray([]);var r=e;return"[]"===r.ctor?e:h(j["::"],r._0,h(X,t-1,r._1))})),G=a(function(t,e,r){for(;;){if(b.cmp(e,0)<1)return t;var n=h(j["::"],r,t),o=e-1,i=r;t=n,e=o,r=i}}),V=(i(function(t,e){return _(G,O.fromArray([]),t,e)}),y.append),K=(y.length,y.slice,y.set,i(function(t,e){return b.cmp(0,t)<1&&b.cmp(t,y.length(e))<0?P(h(y.get,t,e)):B})),Q=(y.push,y.empty),Z=(i(function(t,e){var r=i(function(e,r){return t(e)?h(y.push,e,r):r});return _(y.foldl,r,y.empty,e)}),y.foldr,y.foldl),$=(y.indexedMap,y.map),tt=y.toList,et=(y.fromList,y.initialize),rt=(i(function(t,e){return h(et,t,k(e))}),function(){return{fromCode:function(t){return b.chr(String.fromCharCode(t))},toCode:function(t){return t.charCodeAt(0)},toUpper:function(t){return b.chr(t.toUpperCase())},toLower:function(t){return b.chr(t.toLowerCase())},toLocaleUpper:function(t){return b.chr(t.toLocaleUpperCase())},toLocaleLower:function(t){return b.chr(t.toLocaleLowerCase())}}}()),nt=(rt.fromCode,rt.toCode),ot=(rt.toLocaleLower,rt.toLocaleUpper,rt.toLower,rt.toUpper,a(function(t,e,r){var n=nt(r);return b.cmp(n,nt(t))>-1&&b.cmp(n,nt(e))<1})),it=(h(ot,b.chr("A"),b.chr("Z")),h(ot,b.chr("a"),b.chr("z")),h(ot,b.chr("0"),b.chr("9")),h(ot,b.chr("0"),b.chr("7")),function(){function t(t){return{ctor:"_Task_succeed",value:t}}function e(t){return{ctor:"_Task_fail",value:t}}function r(t){return{ctor:"_Task_nativeBinding",callback:t,cancel:null}}function n(t,e){return{ctor:"_Task_andThen",task:t,callback:e}}function o(t,e){return{ctor:"_Task_onError",task:t,callback:e}}function a(t){return{ctor:"_Task_receive",callback:t}}function u(t){var e={ctor:"_Process",id:b.guid(),root:t,stack:null,mailbox:[]};return _(e),e}function c(e){return r(function(r){var n=u(e);r(t(n))})}function f(t,e){t.mailbox.push(e),_(t)}function s(e,n){return r(function(r){f(e,n),r(t(b.Tuple0))})}function l(e){return r(function(r){var n=e.root;"_Task_nativeBinding"===n.ctor&&n.cancel&&n.cancel(),e.root=null,r(t(b.Tuple0))})}function d(e){return r(function(r){var n=setTimeout(function(){r(t(b.Tuple0))},e);return function(){clearTimeout(n)}})}function h(t,e){for(;t<p;){var r=e.root.ctor;if("_Task_succeed"!==r)if("_Task_fail"!==r)if("_Task_andThen"!==r)if("_Task_onError"!==r){if("_Task_nativeBinding"===r){e.root.cancel=e.root.callback(function(t){e.root=t,_(e)});break}if("_Task_receive"!==r)throw new Error(r);var n=e.mailbox;if(0===n.length)break;e.root=e.root.callback(n.shift()),++t}else e.stack={ctor:"_Task_onError",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else e.stack={ctor:"_Task_andThen",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else{for(;e.stack&&"_Task_andThen"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}else{for(;e.stack&&"_Task_onError"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}}return t<p?t+1:(_(e),t)}function _(t){y.push(t),v||(setTimeout(g,0),v=!0)}function g(){for(var t,e=0;e<p&&(t=y.shift());)e=h(e,t);return t?void setTimeout(g,0):void(v=!1)}var p=1e4,v=!1,y=[];return{succeed:t,fail:e,nativeBinding:r,andThen:i(n),onError:i(o),receive:a,spawn:c,kill:l,sleep:d,send:i(s),rawSpawn:u,rawSend:f}}()),at=function(){function t(t,r,o){var i=o?n(r,o):e(r);t.worker=function(t){return i(void 0,t,!1)},t.embed=function(t,e){return i(t,e,!0)},t.fullscreen=function(t){return i(document.body,t,!0)}}function e(t){return function(e){var n="Cannot initialize module `"+t+"` because it has no `main` value!\nWhat should I show on screen?";throw e.innerHTML=r(n),new Error(n)}}function r(t){return'<div style="padding-left:1em;"><h2 style="font-weight:normal;"><b>Oops!</b> Something went wrong when starting your Elm program.</h2><pre style="padding-left:1em;">'+t+"</pre></div>"}function n(t,e){return function(n,i,a){try{var c=u(t,e);return a||(c.renderer=o),s(t,c,n,i)}catch(f){throw n.innerHTML=r(f.message),f}}}function o(){return{update:function(){}}}function u(t,e){var r=e.main;if("undefined"==typeof r.init){var n=w(O.Nil),o=b.Tuple2(b.Tuple0,n);return rr({init:function(){return o},view:function(){return r},update:i(function(){return o}),subscriptions:function(){return n}})}var a=e.flags,u=a?f(t,r.init,a):c(t,r.init);return rr({init:u,view:r.view,update:r.update,subscriptions:r.subscriptions})}function c(t,e){return function(r){if("undefined"!=typeof r)throw new Error("You are giving module `"+t+"` an argument in JavaScript.\nThis module does not take arguments though! You probably need to change the\ninitialization code to something like `Elm."+t+".fullscreen()`");return e()}}function f(t,e,r){return function(n){var o=h(Me.run,r,n);if("Err"===o.ctor)throw new Error("You are trying to initialize module `"+t+"` with an unexpected argument.\nWhen trying to convert it to a usable Elm value, I run into this problem:\n\n"+o._0);return e(o._0)}}function s(t,e,r,n){function o(t,e){return it.nativeBinding(function(r){var n=h(c,t,e);e=n._0,a.update(s(e));var o=n._1,i=f(e);k(_,o,i),r(it.succeed(e))})}function i(t){it.rawSend(p,t)}var a,u=e.init,c=e.update,f=e.subscriptions,s=e.view,d=e.renderer,_={},g=it.nativeBinding(function(t){var e=u(n),o=e._0;a=d(r,i,s(o));var c=e._1,l=f(o);k(_,c,l),t(it.succeed(o))}),p=y(g,o),v=l(_,i);return v?{ports:v}:{}}function l(t,e){var r;for(var n in L){var o=L[n];o.isForeign&&(r=r||{},r[n]="cmd"===o.tag?C(n):I(n,e)),t[n]=d(o,e)}return r}function d(t,e){function r(t,e){if("self"===t.ctor)return _(a,n,t._0,e);var r=t._0;switch(o){case"cmd":return _(i,n,r.cmds,e);case"sub":return _(i,n,r.subs,e);case"fx":return g(i,n,r.cmds,r.subs,e)}}var n={main:e,self:void 0},o=t.tag,i=t.onEffects,a=t.onSelfMsg,u=y(t.init,r);return n.self=u,u}function p(t,e){return it.nativeBinding(function(r){t.main(e),r(it.succeed(b.Tuple0))})}function v(t,e){return h(it.send,t.self,{ctor:"self",_0:e})}function y(t,e){function r(t){var o=it.receive(function(r){return e(r,t)});return h(n,o,r)}var n=it.andThen,o=h(n,t,r);return it.rawSpawn(o)}function m(t){return function(e){return{type:"leaf",home:t,value:e}}}function w(t){return{type:"node",branches:t}}function T(t,e){return{type:"map",tagger:t,tree:e}}function k(t,e,r){var n={};R(!0,e,n,null),R(!1,r,n,null);for(var o in t){var i=o in n?n[o]:{cmds:O.Nil,subs:O.Nil};it.rawSend(t[o],{ctor:"fx",_0:i})}}function R(t,e,r,n){switch(e.type){case"leaf":var o=e.home,i=A(t,o,n,e.value);return void(r[o]=E(t,i,r[o]));case"node":for(var a=e.branches;"[]"!==a.ctor;)R(t,a._0,r,n),a=a._1;return;case"map":return void R(t,e.tree,r,{tagger:e.tagger,rest:n})}}function A(t,e,r,n){function o(t){for(var e=r;e;)t=e.tagger(t),e=e.rest;return t}var i=t?L[e].cmdMap:L[e].subMap;return h(i,o,n)}function E(t,e,r){return r=r||{cmds:O.Nil,subs:O.Nil},t?(r.cmds=O.Cons(e,r.cmds),r):(r.subs=O.Cons(e,r.subs),r)}function S(t){if(t in L)throw new Error("There can only be one port named `"+t+"`, but your program has multiple.")}function B(t,e){return S(t),L[t]={tag:"cmd",cmdMap:M,converter:e,isForeign:!0},m(t)}function C(t){function e(t,e,r){for(;"[]"!==e.ctor;){for(var n=i(e._0),a=0;a<o.length;a++)o[a](n);e=e._1}return u}function r(t){o.push(t)}function n(t){var e=o.indexOf(t);e>=0&&o.splice(e,1)}var o=[],i=L[t].converter,u=it.succeed(null);return L[t].init=u,L[t].onEffects=a(e),{subscribe:r,unsubscribe:n}}function P(t,e){return S(t),L[t]={tag:"sub",subMap:x,converter:e,isForeign:!0},m(t)}function I(t,e){function r(t,e,r){return o=e,u}function n(r){var n=h(je,i,r);if("Err"===n.ctor)throw new Error("Trying to send an unexpected type of value through port `"+t+"`:\n"+n._0);for(var r=n._0,a=o;"[]"!==a.ctor;)e(a._0(r)),a=a._1}var o=O.Nil,i=L[t].converter,u=it.succeed(null);return L[t].init=u,L[t].onEffects=a(r),{send:n}}var L={},M=i(function(t,e){return e}),x=i(function(t,e){return function(r){return t(e(r))}});return{sendToApp:i(p),sendToSelf:i(v),mainToProgram:u,effectManagers:L,outgoingPort:B,incomingPort:P,addPublicModule:t,leaf:m,batch:w,map:i(T)}}(),ut=(it.succeed,at.sendToSelf),ct=at.sendToApp,ft=at.batch,st=(ft(O.fromArray([])),st||{});st["!"]=i(function(t,e){return{ctor:"_Tuple2",_0:t,_1:ft(e)}});var lt=(at.map,i(function(t,e){var r=e;return"Ok"===r.ctor?r._0:t}),function(t){return{ctor:"Err",_0:t}}),dt=(i(function(t,e){var r=t;return"Ok"===r.ctor?e(r._0):lt(r._0)}),function(t){return{ctor:"Ok",_0:t}}),ht=(i(function(t,e){var r=e;return"Ok"===r.ctor?dt(t(r._0)):lt(r._0)}),a(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"Ok"===n._0.ctor?"Ok"===n._1.ctor?dt(h(t,n._0._0,n._1._0)):lt(n._1._0):lt(n._0._0)}),u(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"Ok"===o._0.ctor?"Ok"===o._1.ctor?"Ok"===o._2.ctor?dt(_(t,o._0._0,o._1._0,o._2._0)):lt(o._2._0):lt(o._1._0):lt(o._0._0)}),c(function(t,e,r,n,o){var i={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"Ok"===i._0.ctor?"Ok"===i._1.ctor?"Ok"===i._2.ctor?"Ok"===i._3.ctor?dt(g(t,i._0._0,i._1._0,i._2._0,i._3._0)):lt(i._3._0):lt(i._2._0):lt(i._1._0):lt(i._0._0)}),f(function(t,e,r,n,o,i){var a={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:i};return"Ok"===a._0.ctor?"Ok"===a._1.ctor?"Ok"===a._2.ctor?"Ok"===a._3.ctor?"Ok"===a._4.ctor?dt(p(t,a._0._0,a._1._0,a._2._0,a._3._0,a._4._0)):lt(a._4._0):lt(a._3._0):lt(a._2._0):lt(a._1._0):lt(a._0._0)}),i(function(t,e){var r=e;return"Ok"===r.ctor?dt(r._0):lt(t(r._0))}),i(function(t,e){var r=e;return"Just"===r.ctor?dt(r._0):lt(t)}),it.onError),_t=it.andThen,gt=i(function(t,e){var r=e;return it.spawn(h(_t,r._0,ct(t)))}),pt=it.fail,vt=i(function(t,e){return h(ht,e,function(e){return pt(t(e))})}),yt=it.succeed,mt=i(function(t,e){return h(_t,e,function(e){return yt(t(e))})}),bt=a(function(t,e,r){return h(_t,e,function(e){return h(_t,r,function(r){return yt(h(t,e,r))})})}),wt=(u(function(t,e,r,n){return h(_t,e,function(e){return h(_t,r,function(r){return h(_t,n,function(n){return yt(_(t,e,r,n))})})})}),c(function(t,e,r,n,o){return h(_t,e,function(e){return h(_t,r,function(r){return h(_t,n,function(n){return h(_t,o,function(o){return yt(g(t,e,r,n,o))})})})})}),f(function(t,e,r,n,o,i){return h(_t,e,function(e){return h(_t,r,function(r){return h(_t,n,function(n){return h(_t,o,function(o){return h(_t,i,function(i){return yt(p(t,e,r,n,o,i))})})})})})}),i(function(t,e){return h(_t,t,function(t){return h(_t,e,function(e){return yt(t(e))})})}),function(t){var e=t;return"[]"===e.ctor?yt(O.fromArray([])):_(bt,i(function(t,e){return h(j["::"],t,e)}),e._0,wt(e._1))}),Tt=a(function(t,e,r){return h(mt,function(t){return{ctor:"_Tuple0"}},wt(h(z,gt(t),e)))}),kt=(i(function(t,e){var r=e;return"Just"===r.ctor?yt(r._0):pt(t)}),yt({ctor:"_Tuple0"})),Rt=a(function(t,e,r){return yt({ctor:"_Tuple0"})}),At=at.leaf("Task"),Et=function(t){return{ctor:"T",_0:t}},St=a(function(t,e,r){return At(Et(h(ht,h(mt,e,r),function(e){return yt(t(e))})))}),Bt=i(function(t,e){var r=e;return Et(h(mt,t,r._0))});at.effectManagers.Task={pkg:"elm-lang/core",init:kt,onEffects:Tt,onSelfMsg:Rt,tag:"cmd",cmdMap:Bt};var Ct=function(){function t(t,e){var r=t+": "+b.toString(e),n=n||{};return n.stdout?n.stdout.write(r):console.log(r),e}function e(t){throw new Error(t)}return{crash:e,log:i(t)}}(),Pt=function(){function t(t){return 0===t.length}function e(t,e){return t+e}function r(t){var e=t[0];return e?P(b.Tuple2(b.chr(e),t.slice(1))):B;
}function n(t,e){return t+e}function o(t){return O.toArray(t).join("")}function u(t){return t.length}function c(t,e){for(var r=e.split(""),n=r.length;n--;)r[n]=t(b.chr(r[n]));return r.join("")}function f(t,e){return e.split("").map(b.chr).filter(t).join("")}function s(t){return t.split("").reverse().join("")}function l(t,e,r){for(var n=r.length,o=0;o<n;++o)e=h(t,b.chr(r[o]),e);return e}function d(t,e,r){for(var n=r.length;n--;)e=h(t,b.chr(r[n]),e);return e}function _(t,e){return O.fromArray(e.split(t))}function g(t,e){return O.toArray(e).join(t)}function p(t,e){for(var r="";t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}function v(t,e,r){return r.slice(t,e)}function y(t,e){return t<1?"":e.slice(0,t)}function m(t,e){return t<1?"":e.slice(-t)}function w(t,e){return t<1?e:e.slice(t)}function T(t,e){return t<1?e:e.slice(0,-t)}function k(t,e,r){var n=(t-r.length)/2;return p(Math.ceil(n),e)+r+p(0|n,e)}function R(t,e,r){return r+p(t-r.length,e)}function A(t,e,r){return p(t-r.length,e)+r}function E(t){return t.trim()}function S(t){return t.replace(/^\s+/,"")}function C(t){return t.replace(/\s+$/,"")}function I(t){return O.fromArray(t.trim().split(/\s+/g))}function L(t){return O.fromArray(t.split(/\r\n|\r|\n/g))}function M(t){return t.toUpperCase()}function x(t){return t.toLowerCase()}function D(t,e){for(var r=e.length;r--;)if(t(b.chr(e[r])))return!0;return!1}function N(t,e){for(var r=e.length;r--;)if(!t(b.chr(e[r])))return!1;return!0}function F(t,e){return e.indexOf(t)>-1}function U(t,e){return 0===e.indexOf(t)}function j(t,e){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}function z(t,e){for(var r=t.length,n=0,o=[];(n=e.indexOf(t,n))>-1;)o.push(n),n+=r;return O.fromArray(o)}function Y(t){var e=t.length;if(0===e)return lt("could not convert string '"+t+"' to an Int");var r=0;if("-"===t[0]){if(1===e)return lt("could not convert string '"+t+"' to an Int");r=1}for(var n=r;n<e;++n){var o=t[n];if(o<"0"||"9"<o)return lt("could not convert string '"+t+"' to an Int")}return dt(parseInt(t,10))}function q(t){var e=t.length;if(0===e)return lt("could not convert string '"+t+"' to a Float");var r=0;if("-"===t[0]){if(1===e)return lt("could not convert string '"+t+"' to a Float");r=1}for(var n=0,o=r;o<e;++o){var i=t[o];if(!("0"<=i&&i<="9"||"."===i&&(n+=1,n<=1)))return lt("could not convert string '"+t+"' to a Float")}return dt(parseFloat(t))}function H(t){return O.fromArray(t.split("").map(b.chr))}function W(t){return O.toArray(t).join("")}return{isEmpty:t,cons:i(e),uncons:r,append:i(n),concat:o,length:u,map:i(c),filter:i(f),reverse:s,foldl:a(l),foldr:a(d),split:i(_),join:i(g),repeat:i(p),slice:a(v),left:i(y),right:i(m),dropLeft:i(w),dropRight:i(T),pad:a(k),padLeft:a(A),padRight:a(R),trim:E,trimLeft:S,trimRight:C,words:I,lines:L,toUpper:M,toLower:x,any:i(D),all:i(N),contains:i(F),startsWith:i(U),endsWith:i(j),indexes:i(z),toInt:Y,toFloat:q,toList:H,fromList:W}}(),Ot=(Pt.fromList,Pt.toList,Pt.toFloat,Pt.toInt,Pt.indexes,Pt.indexes,Pt.endsWith,Pt.startsWith,Pt.contains,Pt.all,Pt.any,Pt.toLower,Pt.toUpper,Pt.lines,Pt.words,Pt.trimRight,Pt.trimLeft,Pt.trim,Pt.padRight,Pt.padLeft,Pt.pad,Pt.dropRight,Pt.dropLeft,Pt.right,Pt.left,Pt.slice,Pt.repeat,Pt.join),It=Pt.split,Lt=(Pt.foldr,Pt.foldl,Pt.reverse,Pt.filter,Pt.map,Pt.length,Pt.concat),Mt=(Pt.append,Pt.uncons,Pt.cons,Pt.isEmpty,a(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,i=_(t,n._1,n._2,_(Mt,t,e,n._4)),a=n._3;t=o,e=i,r=a}})),xt=function(t){return _(Mt,a(function(t,e,r){return h(j["::"],{ctor:"_Tuple2",_0:t,_1:e},r)}),O.fromArray([]),t)},Dt=a(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,i=_(t,n._1,n._2,_(Dt,t,e,n._3)),a=n._4;t=o,e=i,r=a}}),Nt=f(function(t,e,r,n,o,u){var c=a(function(n,o,i){var a=i,u=a._1,c=a._0,f=c;if("[]"===f.ctor)return{ctor:"_Tuple2",_0:c,_1:_(r,n,o,u)};var s=f._1,l=f._0._1,d=f._0._0;return b.cmp(d,n)<0?{ctor:"_Tuple2",_0:s,_1:_(t,d,l,u)}:b.cmp(d,n)>0?{ctor:"_Tuple2",_0:c,_1:_(r,n,o,u)}:{ctor:"_Tuple2",_0:s,_1:g(e,d,l,o,u)}}),f=_(Dt,c,{ctor:"_Tuple2",_0:xt(n),_1:u},o),s=f._0,l=f._1;return _(x,i(function(e,r){var n=e;return _(t,n._0,n._1,r)}),l,s)}),Ft=u(function(t,e,r,n){return Ct.crash(Lt(O.fromArray(["Internal red-black tree invariant violated, expected ",t," and got ",A(e),"/",r,"/",n,"\nPlease report this bug to <https://github.com/elm-lang/core/issues>"])))}),Ut=function(t){var e=t;t:do{if("RBNode_elm_builtin"===e.ctor){if("BBlack"===e._0.ctor)return!0;break t}if("LBBlack"===e._0.ctor)return!0;break t}while(!1);return!1},jt=i(function(t,e){for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return t;var n=h(jt,t+1,r._4),o=r._3;t=n,e=o}}),zt=i(function(t,e){t:for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return B;var n=h(S,t,r._1);switch(n.ctor){case"LT":var o=t,i=r._3;t=o,e=i;continue t;case"EQ":return P(r._2);default:var a=t,u=r._4;t=a,e=u;continue t}}}),Yt=i(function(t,e){var r=h(zt,t,e);return"Just"===r.ctor}),qt=a(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return{ctor:"_Tuple2",_0:t,_1:e};var o=n._1,i=n._2,a=n._4;t=o,e=i,r=a}}),Ht={ctor:"NBlack"},Wt={ctor:"BBlack"},Jt={ctor:"Black"},Xt=function(t){var e=t;if("RBNode_elm_builtin"===e.ctor){var r=e._0;return b.eq(r,Jt)||b.eq(r,Wt)}return!0},Gt={ctor:"Red"},Vt=function(t){var e=t;switch(e.ctor){case"Black":return Wt;case"Red":return Jt;case"NBlack":return Gt;default:return Ct.crash("Can't make a double black node more black!")}},Kt=function(t){var e=t;switch(e.ctor){case"BBlack":return Jt;case"Black":return Gt;case"Red":return Ht;default:return Ct.crash("Can't make a negative black node less black!")}},Qt={ctor:"LBBlack"},Zt={ctor:"LBlack"},$t=function(t){return{ctor:"RBEmpty_elm_builtin",_0:t}},te=$t(Zt),ee=c(function(t,e,r,n,o){return{ctor:"RBNode_elm_builtin",_0:t,_1:e,_2:r,_3:n,_4:o}}),re=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor&&"Red"===e._0.ctor?p(ee,Jt,e._1,e._2,e._3,e._4):t},ne=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor?p(ee,Kt(e._0),e._1,e._2,e._3,e._4):$t(Zt)},oe=function(t){return function(e){return function(r){return function(n){return function(o){return function(i){return function(a){return function(u){return function(c){return function(f){return function(s){return p(ee,Kt(t),n,o,p(ee,Jt,e,r,u,c),p(ee,Jt,i,a,f,s))}}}}}}}}}}},ie=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?$t(Zt):p(ee,Jt,e._1,e._2,e._3,e._4)},ae=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?Ct.crash("can't make a Leaf red"):p(ee,Gt,e._1,e._2,e._3,e._4)},ue=function(t){var e=t;t:do{e:do{r:do{n:do{o:do{i:do{a:do{if("RBNode_elm_builtin"!==e.ctor)break t;if("RBNode_elm_builtin"===e._3.ctor)if("RBNode_elm_builtin"===e._4.ctor)switch(e._3._0.ctor){case"Red":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break a;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break a;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break a;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t}case"NBlack":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===e._0.ctor){if("RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;if("RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}break t;default:if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}default:switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}else switch(e._3._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break a;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;default:break t}else{if("RBNode_elm_builtin"!==e._4.ctor)break t;switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}}while(!1);return oe(e._0)(e._3._3._1)(e._3._3._2)(e._3._1)(e._3._2)(e._1)(e._2)(e._3._3._3)(e._3._3._4)(e._3._4)(e._4)}while(!1);return oe(e._0)(e._3._1)(e._3._2)(e._3._4._1)(e._3._4._2)(e._1)(e._2)(e._3._3)(e._3._4._3)(e._3._4._4)(e._4)}while(!1);return oe(e._0)(e._1)(e._2)(e._4._3._1)(e._4._3._2)(e._4._1)(e._4._2)(e._3)(e._4._3._3)(e._4._3._4)(e._4._4)}while(!1);return oe(e._0)(e._1)(e._2)(e._4._1)(e._4._2)(e._4._4._1)(e._4._4._2)(e._3)(e._4._3)(e._4._4._3)(e._4._4._4)}while(!1);return p(ee,Jt,e._4._3._1,e._4._3._2,p(ee,Jt,e._1,e._2,e._3,e._4._3._3),p(ce,Jt,e._4._1,e._4._2,e._4._3._4,ae(e._4._4)))}while(!1);return p(ee,Jt,e._3._4._1,e._3._4._2,p(ce,Jt,e._3._1,e._3._2,ae(e._3._3),e._3._4._3),p(ee,Jt,e._1,e._2,e._3._4._4,e._4))}while(!1);return t},ce=c(function(t,e,r,n,o){var i=p(ee,t,e,r,n,o);return Xt(i)?ue(i):i}),fe=c(function(t,e,r,n,o){return Ut(n)||Ut(o)?p(ce,Vt(t),e,r,ne(n),ne(o)):p(ee,t,e,r,n,o)}),se=c(function(t,e,r,n,o){var i=o;return"RBEmpty_elm_builtin"===i.ctor?_(le,t,n,o):p(fe,t,e,r,n,p(se,i._0,i._1,i._2,i._3,i._4))}),le=a(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};if("RBEmpty_elm_builtin"!==n._0.ctor){if("RBEmpty_elm_builtin"===n._1.ctor){var o=n._1._0,i=n._0._0,a={ctor:"_Tuple3",_0:t,_1:i,_2:o};return"_Tuple3"===a.ctor&&"Black"===a._0.ctor&&"Red"===a._1.ctor&&"LBlack"===a._2.ctor?p(ee,Jt,n._0._1,n._0._2,n._0._3,n._0._4):g(Ft,"Black/Red/LBlack",t,A(i),A(o))}var u=n._0._2,c=n._0._4,f=n._0._1,s=p(se,n._0._0,f,u,n._0._3,c),l=_(qt,f,u,c),d=l._0,h=l._1;return p(fe,t,d,h,s,r)}if("RBEmpty_elm_builtin"!==n._1.ctor){var v=n._1._0,y=n._0._0,m={ctor:"_Tuple3",_0:t,_1:y,_2:v};return"_Tuple3"===m.ctor&&"Black"===m._0.ctor&&"LBlack"===m._1.ctor&&"Red"===m._2.ctor?p(ee,Jt,n._1._1,n._1._2,n._1._3,n._1._4):g(Ft,"Black/LBlack/Red",t,A(y),A(v))}var b=t;switch(b.ctor){case"Red":return $t(Zt);case"Black":return $t(Qt);default:return Ct.crash("cannot have bblack or nblack nodes at this point")}}),de=i(function(t,e){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return $t(Zt);var n=r._1;return p(ee,r._0,n,h(t,n,r._2),h(de,t,r._3),h(de,t,r._4))}),he={ctor:"Same"},_e={ctor:"Remove"},ge={ctor:"Insert"},pe=a(function(t,e,r){var n=function(r){var o=r;if("RBEmpty_elm_builtin"===o.ctor){var i=e(B);return"Nothing"===i.ctor?{ctor:"_Tuple2",_0:he,_1:te}:{ctor:"_Tuple2",_0:ge,_1:p(ee,Gt,t,i._0,te,te)}}var a=o._2,u=o._4,c=o._3,f=o._1,s=o._0,l=h(S,t,f);switch(l.ctor){case"EQ":var d=e(P(a));return"Nothing"===d.ctor?{ctor:"_Tuple2",_0:_e,_1:_(le,s,c,u)}:{ctor:"_Tuple2",_0:he,_1:p(ee,s,f,d._0,c,u)};case"LT":var g=n(c),v=g._0,y=g._1,m=v;switch(m.ctor){case"Same":return{ctor:"_Tuple2",_0:he,_1:p(ee,s,f,a,y,u)};case"Insert":return{ctor:"_Tuple2",_0:ge,_1:p(ce,s,f,a,y,u)};default:return{ctor:"_Tuple2",_0:_e,_1:p(fe,s,f,a,y,u)}}default:var b=n(u),v=b._0,w=b._1,T=v;switch(T.ctor){case"Same":return{ctor:"_Tuple2",_0:he,_1:p(ee,s,f,a,c,w)};case"Insert":return{ctor:"_Tuple2",_0:ge,_1:p(ce,s,f,a,c,w)};default:return{ctor:"_Tuple2",_0:_e,_1:p(fe,s,f,a,c,w)}}}},o=n(r),i=o._0,a=o._1,u=i;switch(u.ctor){case"Same":return a;case"Insert":return re(a);default:return ie(a)}}),ve=a(function(t,e,r){return _(pe,t,k(P(e)),r)}),ye=(i(function(t,e){return _(ve,t,e,te)}),i(function(t,e){return _(Dt,ve,e,t)}),i(function(t,e){var r=a(function(e,r,n){return h(t,e,r)?_(ve,e,r,n):n});return _(Dt,r,te,e)})),me=(i(function(t,e){return h(ye,i(function(t,r){return h(Yt,t,e)}),t)}),i(function(t,e){var r=a(function(e,r,n){var o=n,i=o._1,a=o._0;return h(t,e,r)?{ctor:"_Tuple2",_0:_(ve,e,r,a),_1:i}:{ctor:"_Tuple2",_0:a,_1:_(ve,e,r,i)}});return _(Dt,r,{ctor:"_Tuple2",_0:te,_1:te},e)}),i(function(t,e){return _(pe,t,k(B),e)})),be=(i(function(t,e){return _(Dt,a(function(t,e,r){return h(me,t,r)}),t,e)}),function(){function t(t,e){return it.nativeBinding(function(r){var n=setInterval(function(){it.rawSpawn(e)},t);return function(){clearInterval(n)}})}var e=it.nativeBinding(function(t){t(it.succeed(Date.now()))});return{now:e,setInterval_:i(t)}}()),we=at.batch,Te=(we(O.fromArray([])),at.map,be.setInterval_),ke=a(function(t,e,r){var n=e;if("[]"===n.ctor)return yt(r);var o=n._0;return h(_t,it.spawn(h(Te,o,h(ut,t,o))),function(e){return _(ke,t,n._1,_(ve,o,e,r))})}),Re=i(function(t,e){var r=t,n=r._1,o=r._0,i=h(zt,o,e);return"Nothing"===i.ctor?_(ve,o,O.fromArray([n]),e):_(ve,o,h(j["::"],n,i._0),e)}),Ae=be.now,Ee=a(function(t,e,r){var n=h(zt,e,r.taggers);return"Nothing"===n.ctor?yt(r):h(_t,Ae,function(e){return h(_t,wt(h(z,function(r){return h(ct,t,r(e))},n._0)),function(t){return yt(r)})})}),Se=at.leaf("Time"),Be=i(function(t,e){return{taggers:t,processes:e}}),Ce=yt(h(Be,te,te)),Pe=a(function(t,e,r){var n=r,o=a(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:n._0,_1:n._1,_2:h(_t,it.kill(e),function(t){return n._2})}}),i=u(function(t,e,r,n){var o=n;return{ctor:"_Tuple3",_0:o._0,_1:_(ve,t,r,o._1),_2:o._2}}),c=a(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:h(j["::"],t,n._0),_1:n._1,_2:n._2}}),f=_(x,Re,te,e),s=v(Nt,c,i,o,f,n.processes,{ctor:"_Tuple3",_0:O.fromArray([]),_1:te,_2:yt({ctor:"_Tuple0"})}),l=s._0,d=s._1,g=s._2;return h(_t,g,function(e){return h(_t,_(ke,t,l,d),function(t){return yt(h(Be,f,t))})})}),Oe=i(function(t,e){return{ctor:"Every",_0:t,_1:e}}),Ie=(i(function(t,e){return Se(h(Oe,t,e))}),i(function(t,e){var r=e;return h(Oe,r._0,function(e){return t(r._1(e))})}));at.effectManagers.Time={pkg:"elm-lang/core",init:Ce,onEffects:Pe,onSelfMsg:Ee,tag:"sub",subMap:Ie};var Le=(Ct.crash,Ct.log),Me=function(){function t(t){return{ctor:"<decoder>",tag:"succeed",msg:t}}function e(t){return{ctor:"<decoder>",tag:"fail",msg:t}}function r(t){return{ctor:"<decoder>",tag:t}}function n(t,e){return{ctor:"<decoder>",tag:t,decoder:e}}function o(t){return{ctor:"<decoder>",tag:"null",value:t}}function h(t,e){return{ctor:"<decoder>",tag:"field",field:t,decoder:e}}function _(t){return{ctor:"<decoder>",tag:"key-value",decoder:t}}function g(t,e){return{ctor:"<decoder>",tag:"map-many",func:t,decoders:e}}function p(t,e){return{ctor:"<decoder>",tag:"tuple",func:t,decoders:e}}function v(t,e){return{ctor:"<decoder>",tag:"andThen",decoder:t,callback:e}}function m(t,e){return{ctor:"<decoder>",tag:"customAndThen",decoder:t,callback:e}}function w(t){return{ctor:"<decoder>",tag:"oneOf",decoders:t}}function T(t,e){return g(t,[e])}function k(t,e,r){return g(t,[e,r])}function R(t,e,r,n){return g(t,[e,r,n])}function A(t,e,r,n,o){return g(t,[e,r,n,o])}function E(t,e,r,n,o,i){return g(t,[e,r,n,o,i])}function S(t,e,r,n,o,i,a){return g(t,[e,r,n,o,i,a])}function C(t,e,r,n,o,i,a,u){return g(t,[e,r,n,o,i,a,u])}function I(t,e,r,n,o,i,a,u,c){return g(t,[e,r,n,o,i,a,u,c])}function L(t,e){return p(t,[e])}function M(t,e,r){return p(t,[e,r])}function x(t,e,r,n){return p(t,[e,r,n])}function D(t,e,r,n,o){return p(t,[e,r,n,o])}function N(t,e,r,n,o,i){return p(t,[e,r,n,o,i])}function F(t,e,r,n,o,i,a){return p(t,[e,r,n,o,i,a])}function U(t,e,r,n,o,i,a,u){return p(t,[e,r,n,o,i,a,u])}function j(t,e,r,n,o,i,a,u,c){return p(t,[e,r,n,o,i,a,u,c])}function z(t){return{tag:"ok",value:t}}function Y(t,e){return{tag:"primitive",type:t,value:e}}function q(t,e){return{tag:"index",index:t,rest:e}}function H(t,e){return{tag:"field",field:t,rest:e}}function W(t){return{tag:"oneOf",problems:t}}function J(t){return{tag:"fail",msg:t}}function X(t){for(var e="_";t;)switch(t.tag){case"primitive":return"Expecting "+t.type+("_"===e?"":" at "+e)+" but instead got: "+G(t.value);case"index":e+="["+t.index+"]",t=t.rest;break;case"field":e+="."+t.field,t=t.rest;break;case"oneOf":for(var r=t.problems,n=0;n<r.length;n++)r[n]=X(r[n]);return"I ran into the following problems"+("_"===e?"":" at "+e)+":\n\n"+r.join("\n");case"fail":return"I ran into a `fail` decoder"+("_"===e?"":" at "+e)+": "+t.msg}}function G(t){return void 0===t?"undefined":JSON.stringify(t)}function V(t,e){var r;try{r=JSON.parse(e)}catch(n){return lt("Given an invalid JSON: "+n.message)}return K(t,r)}function K(t,e){var r=Q(t,e);return"ok"===r.tag?dt(r.value):lt(X(r))}function Q(t,e){switch(t.tag){case"bool":return"boolean"==typeof e?z(e):Y("a Bool",e);case"int":return"number"!=typeof e?Y("an Int",e):-2147483647<e&&e<2147483647&&(0|e)===e?z(e):!isFinite(e)||e%1?Y("an Int",e):z(e);case"float":return"number"==typeof e?z(e):Y("a Float",e);case"string":return"string"==typeof e?z(e):e instanceof String?z(e+""):Y("a String",e);case"null":return null===e?z(t.value):Y("null",e);case"value":return z(e);case"list":if(!(e instanceof Array))return Y("a List",e);for(var r=O.Nil,n=e.length;n--;){var o=Q(t.decoder,e[n]);if("ok"!==o.tag)return q(n,o);r=O.Cons(o.value,r)}return z(r);case"array":if(!(e instanceof Array))return Y("an Array",e);for(var i=e.length,a=new Array(i),n=i;n--;){var o=Q(t.decoder,e[n]);if("ok"!==o.tag)return q(n,o);a[n]=o.value}return z(y.fromJSArray(a));case"maybe":var o=Q(t.decoder,e);return z("ok"===o.tag?P(o.value):B);case"field":var u=t.field;if("object"!=typeof e||null===e||!(u in e))return Y("an object with a field named `"+u+"`",e);var o=Q(t.decoder,e[u]);return"ok"===o.tag?o:H(u,o);case"key-value":if("object"!=typeof e||null===e||e instanceof Array)return Y("an object",e);var c=O.Nil;for(var f in e){var o=Q(t.decoder,e[f]);if("ok"!==o.tag)return H(f,o);var s=b.Tuple2(f,o.value);c=O.Cons(s,c)}return z(c);case"map-many":for(var l=t.func,d=t.decoders,n=0;n<d.length;n++){var o=Q(d[n],e);if("ok"!==o.tag)return o;l=l(o.value)}return z(l);case"tuple":var d=t.decoders,i=d.length;if(!(e instanceof Array)||e.length!==i)return Y("a Tuple with "+i+" entries",e);for(var l=t.func,n=0;n<i;n++){var o=Q(d[n],e[n]);if("ok"!==o.tag)return q(n,o);l=l(o.value)}return z(l);case"customAndThen":var o=Q(t.decoder,e);if("ok"!==o.tag)return o;var h=t.callback(o.value);return"Err"===h.ctor?Y("something custom",e):z(h._0);case"andThen":var o=Q(t.decoder,e);return"ok"!==o.tag?o:Q(t.callback(o.value),e);case"oneOf":for(var _=[],g=t.decoders;"[]"!==g.ctor;){var o=Q(g._0,e);if("ok"===o.tag)return o;_.push(o),g=g._1}return W(_);case"fail":return J(t.msg);case"succeed":return z(t.msg)}}function Z(t,e){if(t===e)return!0;if(t.tag!==e.tag)return!1;switch(t.tag){case"succeed":case"fail":return t.msg===e.msg;case"bool":case"int":case"float":case"string":case"value":return!0;case"null":return t.value===e.value;case"list":case"array":case"maybe":case"key-value":return Z(t.decoder,e.decoder);case"field":return t.field===e.field&&Z(t.decoder,e.decoder);case"map-many":case"tuple":return t.func===e.func&&$(t.decoders,e.decoders);case"andThen":case"customAndThen":return t.callback===e.callback&&Z(t.decoder,e.decoder);case"oneOf":return $(t.decoders,e.decoders)}}function $(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(!Z(t[n],e[n]))return!1;return!0}function tt(t,e){return JSON.stringify(e,null,t)}function et(t){return t}function rt(t){for(var e={};"[]"!==t.ctor;){var r=t._0;e[r._0]=r._1,t=t._1}return e}return{encode:i(tt),runOnString:i(V),run:i(K),decodeNull:o,decodePrimitive:r,decodeContainer:i(n),decodeField:i(h),decodeObject1:i(T),decodeObject2:a(k),decodeObject3:u(R),decodeObject4:c(A),decodeObject5:f(E),decodeObject6:s(S),decodeObject7:l(C),decodeObject8:d(I),decodeKeyValuePairs:_,decodeTuple1:i(L),decodeTuple2:a(M),decodeTuple3:u(x),decodeTuple4:c(D),decodeTuple5:f(N),decodeTuple6:s(F),decodeTuple7:l(U),decodeTuple8:d(j),andThen:i(v),customAndThen:i(m),fail:e,succeed:t,oneOf:w,identity:et,encodeNull:null,encodeArray:y.toJSArray,encodeList:O.toArray,encodeObject:rt,equality:Z}}(),xe=(Me.encodeList,Me.encodeArray,Me.encodeObject,Me.encodeNull,Me.identity),De=(Me.identity,Me.identity,Me.identity),Ne=(Me.encode,Me.decodeTuple8,Me.decodeTuple7,Me.decodeTuple6,Me.decodeTuple5,Me.decodeTuple4,Me.decodeTuple3,Me.decodeTuple2),Fe=(Me.decodeTuple1,Me.succeed),Ue=(Me.fail,Me.andThen),je=(Me.customAndThen,Me.run),ze=(Me.decodePrimitive("value"),Me.decodeNull),Ye=function(t){return h(Me.decodeContainer,"array",t)},qe=function(t){return h(Me.decodeContainer,"list",t)},He=Me.decodePrimitive("bool"),We=Me.decodePrimitive("int"),Je=(Me.decodePrimitive("float"),Me.decodePrimitive("string")),Xe=Me.oneOf,Ge=(Me.decodeKeyValuePairs,Me.decodeObject8,Me.decodeObject7,Me.decodeObject6,Me.decodeObject5,Me.decodeObject4,Me.decodeObject3),Ve=Me.decodeObject2,Ke=Me.decodeObject1,Qe=Qe||{};Qe[":="]=Me.decodeField;var Ze=i(function(t,e){return _(M,i(function(t,e){return h(Qe[":="],t,e)}),e,t)}),$e=Me.runOnString,tr=Me.decodeObject1,er=function(){function t(t){return{type:"text",text:t}}function e(t){return i(function(e,n){return r(t,e,n)})}function r(t,e,r){for(var n=d(e),o=n.namespace,i=n.facts,a=[],u=0;"[]"!==r.ctor;){var c=r._0;u+=c.descendantsCount||0,a.push(c),r=r._1}return u+=a.length,{type:"node",tag:t,facts:i,children:a,namespace:o,descendantsCount:u}}function n(t,e,r){var n=d(t).facts;return{type:"custom",facts:n,model:e,impl:r}}function o(t,e){return{type:"tagger",tagger:t,node:e,descendantsCount:1+(e.descendantsCount||0)}}function c(t,e,r){return{type:"thunk",func:t,args:e,thunk:r,node:null}}function f(t,e){return c(t,[e],function(){return t(e)})}function s(t,e,r){return c(t,[e,r],function(){return h(t,e,r)})}function l(t,e,r,n){return c(t,[e,r,n],function(){return _(t,e,r,n)})}function d(t){for(var e,r={};"[]"!==t.ctor;){var n=t._0,o=n.key;if(o===H||o===W||o===q){var i=r[o]||{};i[n.realKey]=n.value,r[o]=i}else if(o===Y){for(var a=r[o]||{},u=n.value;"[]"!==u.ctor;){var c=u._0;a[c._0]=c._1,u=u._1}r[o]=a}else"namespace"===o?e=n.value:r[o]=n.value;t=t._1}return{facts:r,namespace:e}}function g(t){return{key:Y,value:t}}function p(t,e){return{key:t,value:e}}function v(t,e){return{key:H,realKey:t,value:e}}function y(t,e,r){return{key:W,realKey:e,value:{value:r,namespace:t}}}function m(t,e,r){return{key:q,realKey:t,value:{options:e,decoder:r}}}function b(t,e){return(!t.options!==e.options||t.stopPropagation===e.stopPropagation&&t.preventDefault===e.preventDefault)&&Me.equality(t.decoder,e.decoder)}function w(t,e,r){function n(t){"NO_REQUEST"===u&&J(o),u="PENDING_REQUEST",f=t}function o(){switch(u){case"NO_REQUEST":throw new Error("Unexpected draw callback.\nPlease report this to <https://github.com/elm-lang/core/issues>.");case"PENDING_REQUEST":J(o),u="EXTRA_REQUEST";var t=C(c,f);return a=N(a,c,t,i),void(c=f);case"EXTRA_REQUEST":return void(u="NO_REQUEST")}}var i={tagger:e,parent:null},a=T(r,i);t.appendChild(a);var u="NO_REQUEST",c=r,f=r;return{update:n}}function T(t,e){switch(t.type){case"thunk":return t.node||(t.node=t.thunk()),T(t.node,e);case"tagger":for(var r=t.node,n=t.tagger;"tagger"===r.type;)"object"!=typeof n?n=[n,r.tagger]:n.push(r.tagger),r=r.node;var o={tagger:n,parent:e},i=T(r,o);return i.elm_event_node_ref=o,i;case"text":return document.createTextNode(t.text);case"node":var i=t.namespace?document.createElementNS(t.namespace,t.tag):document.createElement(t.tag);k(i,e,t.facts);for(var a=t.children,u=0;u<a.length;u++)i.appendChild(T(a[u],e));return i;case"custom":var i=t.impl.render(t.model);return k(i,e,t.facts),i}}function k(t,e,r){for(var n in r){var o=r[n];switch(n){case Y:R(t,o);break;case q:A(t,e,o);break;case H:S(t,o);break;case W:B(t,o);break;case"value":t[n]!==o&&(t[n]=o);break;default:t[n]=o}}}function R(t,e){var r=t.style;for(var n in e)r[n]=e[n]}function A(t,e,r){var n=t.elm_handlers||{};for(var o in r){var i=n[o],a=r[o];if("undefined"==typeof a)t.removeEventListener(o,i),n[o]=void 0;else if("undefined"==typeof i){var i=E(e,a);t.addEventListener(o,i),n[o]=i}else i.info=a}t.elm_handlers=n}function E(t,e){function r(e){var n=r.info,o=h(Me.run,n.decoder,e);if("Ok"===o.ctor){var i=n.options;i.stopPropagation&&e.stopPropagation(),i.preventDefault&&e.preventDefault();for(var a=o._0,u=t;u;){var c=u.tagger;if("function"==typeof c)a=c(a);else for(var f=c.length;f--;)a=c[f](a);u=u.parent}}}return r.info=e,r}function S(t,e){for(var r in e){var n=e[r];"undefined"==typeof n?t.removeAttribute(r):t.setAttribute(r,n)}}function B(t,e){for(var r in e){var n=e[r],o=n.namespace,i=n.value;"undefined"==typeof i?t.removeAttributeNS(o,r):t.setAttributeNS(o,r,i)}}function C(t,e){var r=[];return O(t,e,r,0),r}function P(t,e,r){return{index:e,type:t,data:r,domNode:null,eventNode:null}}function O(t,e,r,n){if(t!==e){var o=t.type,i=e.type;if(o!==i)return void r.push(P("p-redraw",n,e));switch(i){case"thunk":for(var a=t.args,u=e.args,c=a.length,f=t.func===e.func&&c===u.length;f&&c--;)f=a[c]===u[c];if(f)return void(e.node=t.node);e.node=e.thunk();var s=[];return O(t.node,e.node,s,0),void(s.length>0&&r.push(P("p-thunk",n,s)));case"tagger":for(var l=t.tagger,d=e.tagger,h=!1,_=t.node;"tagger"===_.type;)h=!0,"object"!=typeof l?l=[l,_.tagger]:l.push(_.tagger),_=_.node;for(var g=e.node;"tagger"===g.type;)h=!0,"object"!=typeof d?d=[d,g.tagger]:d.push(g.tagger),g=g.node;return h&&l.length!==d.length?void r.push(P("p-redraw",n,e)):((h?I(l,d):l===d)||r.push(P("p-tagger",n,d)),void O(_,g,r,n+1));case"text":if(t.text!==e.text)return void r.push(P("p-text",n,e.text));return;case"node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void r.push(P("p-redraw",n,e));var p=L(t.facts,e.facts);return"undefined"!=typeof p&&r.push(P("p-facts",n,p)),void M(t,e,r,n);case"custom":if(t.impl!==e.impl)return void r.push(P("p-redraw",n,e));var p=L(t.facts,e.facts);"undefined"!=typeof p&&r.push(P("p-facts",n,p));var v=e.impl.diff(t,e);if(v)return void r.push(P("p-custom",n,v));return}}}function I(t,e){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function L(t,e,r){var n;for(var o in t)if(o!==Y&&o!==q&&o!==H&&o!==W)if(o in e){var i=t[o],a=e[o];i===a&&"value"!==o||r===q&&b(i,a)||(n=n||{},n[o]=a)}else n=n||{},n[o]="undefined"==typeof r?"string"==typeof t[o]?"":null:r===Y?"":r===q||r===H?void 0:{namespace:t[o].namespace,value:void 0};else{var u=L(t[o],e[o]||{},o);u&&(n=n||{},n[o]=u)}for(var c in e)c in t||(n=n||{},n[c]=e[c]);return n}function M(t,e,r,n){var o=t.children,i=e.children,a=o.length,u=i.length;a>u?r.push(P("p-remove",n,a-u)):a<u&&r.push(P("p-insert",n,i.slice(a)));for(var c=n,f=a<u?a:u,s=0;s<f;s++){c++;var l=o[s];O(l,i[s],r,c),c+=l.descendantsCount||0}}function x(t,e,r,n){D(t,e,r,0,0,e.descendantsCount,n)}function D(t,e,r,n,o,i,a){for(var u=r[n],c=u.index;c===o;){var f=u.type;if("p-thunk"===f?x(t,e.node,u.data,a):(u.domNode=t,u.eventNode=a),n++,!(u=r[n])||(c=u.index)>i)return n}switch(e.type){case"tagger":for(var s=e.node;"tagger"===s.type;)s=s.node;return D(t,s,r,n,o+1,i,t.elm_event_node_ref);case"node":for(var l=e.children,d=t.childNodes,h=0;h<l.length;h++){o++;var _=l[h],g=o+(_.descendantsCount||0);if(o<=c&&c<=g&&(n=D(d[h],_,r,n,o,g,a),!(u=r[n])||(c=u.index)>i))return n;o=g}return n;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function N(t,e,r,n){return 0===r.length?t:(x(t,e,r,n),F(t,r))}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r],o=n.domNode,i=U(o,n);o===t&&(t=i)}return t}function U(t,e){switch(e.type){case"p-redraw":return j(t,e.data,e.eventNode);case"p-facts":return k(t,e.eventNode,e.data),t;case"p-text":return t.replaceData(0,t.length,e.data),t;case"p-thunk":return F(t,e.data);case"p-tagger":return t.elm_event_node_ref.tagger=e.data,t;case"p-remove":for(var r=e.data;r--;)t.removeChild(t.lastChild);return t;case"p-insert":for(var n=e.data,r=0;r<n.length;r++)t.appendChild(T(n[r],e.eventNode));return t;case"p-custom":var o=e.data;return o.applyPatch(t,o.data);default:throw new Error("Ran into an unknown patch!")}}function j(t,e,r){var n=t.parentNode,o=T(e,r);return"undefined"==typeof o.elm_event_node_ref&&(o.elm_event_node_ref=t.elm_event_node_ref),n&&o!==t&&n.replaceChild(o,t),o}function z(t){return{init:t.init,update:t.update,subscriptions:t.subscriptions,view:t.view,renderer:w}}var Y="STYLE",q="EVENT",H="ATTR",W="ATTR_NS",J="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)};return{node:e,text:t,custom:n,map:i(o),on:a(m),style:g,property:i(p),attribute:i(v),attributeNS:a(y),lazy:i(f),lazy2:a(s),lazy3:u(l),programWithFlags:z}}(),rr=er.programWithFlags,nr=(er.lazy3,er.lazy2,er.lazy,{stopPropagation:!1,preventDefault:!1}),or=er.on,ir=i(function(t,e){return _(or,t,nr,e)}),ar=(er.style,er.attributeNS,er.attribute,er.property),ur=(er.map,er.text),cr=er.node,fr=(i(function(t,e){return{stopPropagation:t,preventDefault:e}}),ur),sr=cr,lr=(sr("body"),sr("section")),dr=(sr("nav"),sr("article"),sr("aside")),hr=sr("h1"),_r=(sr("h2"),sr("h3"),sr("h4"),sr("h5"),sr("h6"),sr("header")),gr=sr("footer"),pr=(sr("address"),sr("main"),sr("p")),vr=(sr("hr"),sr("pre"),sr("blockquote"),sr("ol"),sr("ul"),sr("li"),sr("dl"),sr("dt"),sr("dd"),sr("figure"),sr("figcaption"),sr("div"),sr("a"),sr("em"),sr("strong"),sr("small"),sr("s"),sr("cite"),sr("q"),sr("dfn"),sr("abbr"),sr("time"),sr("code"),sr("var"),sr("samp"),sr("kbd"),sr("sub"),sr("sup"),sr("i"),sr("b")),yr=(sr("u"),sr("mark"),sr("ruby"),sr("rt"),sr("rp"),sr("bdi"),sr("bdo"),sr("span"),sr("br"),sr("wbr"),sr("ins"),sr("del"),sr("img"),sr("iframe"),sr("embed"),sr("object"),sr("param"),sr("video"),sr("audio")),mr=(sr("source"),sr("track"),sr("canvas"),sr("svg"),sr("math"),sr("table"),sr("caption"),sr("colgroup"),sr("col"),sr("tbody"),sr("thead"),sr("tfoot"),sr("tr"),sr("td"),sr("th"),sr("form"),sr("fieldset"),sr("legend"),sr("label"),sr("input")),br=(sr("button"),sr("select"),sr("datalist"),sr("optgroup"),sr("option"),sr("textarea"),sr("keygen"),sr("output"),sr("progress"),sr("meter"),sr("details"),sr("summary"),sr("menuitem"),sr("menu"),rr),wr=function(t){return br(b.update(t,{init:function(e){return t.init}}))},Tr=ar,kr=i(function(t,e){return h(Tr,t,De(e))}),Rr=function(t){return h(kr,"className",t)},Ar=function(t){return h(kr,"id",t)},Er=function(t){return h(kr,"src",t)},Sr=function(t){return h(kr,"type",t)},Br=function(t){return h(kr,"accept",t)},Cr=i(function(t,e){return h(Tr,t,xe(e))}),Pr=function(t){return h(Cr,"autoplay",t)},Or=function(t){return h(Cr,"multiple",t)},Ir=(h(Qe[":="],"keyCode",We),h(Ze,O.fromArray(["target","checked"]),He),h(Ze,O.fromArray(["target","value"]),Je),nr),Lr=ir,Mr=(b.update(Ir,{preventDefault:!0}),function(t){return h(Lr,"click",Fe(t))}),xr=(i(function(t,e){return{stopPropagation:t,preventDefault:e}}),function(){function t(t,r){return it.nativeBinding(function(n){function o(t){i.setRequestHeader(t._0,t._1)}var i=new XMLHttpRequest;return"Just"===t.onStart.ctor&&i.addEventListener("loadStart",function(){var e=t.onStart._0;it.rawSpawn(e)}),"Just"===t.onProgress.ctor&&i.addEventListener("progress",function(e){var r=e.lengthComputable?P({
loaded:e.loaded,total:e.total}):B,n=t.onProgress._0(r);it.rawSpawn(n)}),i.addEventListener("error",function(){return n(it.fail({ctor:"RawNetworkError"}))}),i.addEventListener("timeout",function(){return n(it.fail({ctor:"RawTimeout"}))}),i.addEventListener("load",function(){return n(it.succeed(e(i)))}),i.open(r.verb,r.url,!0),h(z,o,r.headers),i.timeout=t.timeout,i.withCredentials=t.withCredentials,"Just"===t.desiredResponseType.ctor&&i.overrideMimeType(t.desiredResponseType._0),"BodyFormData"===r.body.ctor?i.send(r.body.formData):i.send(r.body._0),function(){i.abort()}})}function e(t){var e="blob"===t.responseType?"Blob":"Text",n="Blob"===e?t.response:t.responseText;return{status:t.status,statusText:t.statusText,headers:r(t.getAllResponseHeaders()),url:t.responseURL,value:{ctor:e,_0:n}}}function r(t){var e=te;if(!t)return e;for(var r=t.split("\r\n"),n=r.length;n--;){var o=r[n],i=o.indexOf(": ");if(i>0){var a=o.substring(0,i),u=o.substring(i+2);e=_(pe,a,function(t){return P("Just"===t.ctor?u+", "+t._0:u)},e)}}return e}function n(t){for(var e=new FormData;"[]"!==t.ctor;){var r=t._0;if("StringData"===r.ctor)e.append(r._0,r._1);else{var n="Nothing"===r._1.ctor?void 0:r._1._0;e.append(r._0,r._2,n)}t=t._1}return{ctor:"BodyFormData",formData:e}}function o(t){return encodeURIComponent(t)}function a(t){return decodeURIComponent(t)}return{send:i(t),multipart:n,uriEncode:o,uriDecode:a}}()),Dr=xr.send,Nr={timeout:0,onStart:B,onProgress:B,desiredResponseType:B,withCredentials:!1},Fr=(xr.multipart,xr.uriDecode,xr.uriEncode),Ur=function(t){return h(Ot,"+",h(It,"%20",Fr(t)))},jr=function(t){var e=t;return h(R["++"],Ur(e._0),h(R["++"],"=",Ur(e._1)))},zr=(i(function(t,e){var r=e;return"[]"===r.ctor?t:h(R["++"],t,h(R["++"],"?",h(Ot,"&",h(z,jr,e))))}),u(function(t,e,r,n){return{verb:t,headers:e,url:r,body:n}}),c(function(t,e,r,n,o){return{timeout:t,onStart:e,onProgress:r,desiredResponseType:n,withCredentials:o}}),c(function(t,e,r,n,o){return{status:t,statusText:e,headers:r,url:n,value:o}}),{ctor:"Empty"}),Yr=zr,qr=(a(function(t,e,r){return{ctor:"FileData",_0:t,_1:e,_2:r}}),a(function(t,e,r){return{ctor:"BlobData",_0:t,_1:e,_2:r}}),i(function(t,e){return{ctor:"StringData",_0:t,_1:e}}),i(function(t,e){return{ctor:"BadResponse",_0:t,_1:e}})),Hr=function(t){return{ctor:"UnexpectedPayload",_0:t}},Wr=i(function(t,e){if(b.cmp(200,e.status)<1&&b.cmp(e.status,300)<0){var r=e.value;return"Text"===r.ctor?t(r._0):pt(Hr("Response body is a blob, expecting a string."))}return pt(h(qr,e.status,e.statusText))}),Jr={ctor:"NetworkError"},Xr={ctor:"Timeout"},Gr=function(t){var e=t;return"RawTimeout"===e.ctor?Xr:Jr},Vr=i(function(t,e){var r=function(e){var r=h($e,t,e);return"Ok"===r.ctor?yt(r._0):pt(Hr(r._0))};return h(_t,h(vt,Gr,e),Wr(r))}),Kr=i(function(t,e){var r={verb:"GET",headers:O.fromArray([]),url:e,body:Yr};return h(Vr,t,h(Dr,Nr,r))}),Qr=(a(function(t,e,r){var n={verb:"POST",headers:O.fromArray([]),url:e,body:r};return h(Vr,t,h(Dr,Nr,n))}),at.incomingPort("newFiles",Ye(h(Ue,h(Qe[":="],"file",_(Ne,i(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),Je,Je)),function(t){return h(Ue,h(Qe[":="],"tags",Xe(O.fromArray([ze(B),h(tr,P,h(Ue,h(Qe[":="],"artist",Je),function(t){return h(Ue,h(Qe[":="],"album",Je),function(e){return h(Ue,h(Qe[":="],"title",Je),function(r){return h(Ue,h(Qe[":="],"track",Je),function(n){return Fe({artist:t,album:e,title:r,track:n})})})})}))]))),function(e){return Fe({file:t,tags:e})})})))),Zr=(at.incomingPort("newLibFiles",qe(_(Ne,i(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),Je,Je))),at.incomingPort("newTags",_(Ne,i(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),Je,h(Ue,h(Qe[":="],"artist",Je),function(t){return h(Ue,h(Qe[":="],"album",Je),function(e){return h(Ue,h(Qe[":="],"title",Je),function(r){return h(Ue,h(Qe[":="],"track",Je),function(n){return Fe({artist:t,album:e,title:r,track:n})})})})}))),at.incomingPort("audioMsg",Je)),$r=(at.outgoingPort("parseTags",function(t){return t}),u(function(t,e,r,n){return{artist:t,album:e,title:r,track:n}})),tn=(g($r,"","","",""),i(function(t,e){return{file:t,tags:e}}),function(t){return h(yr,O.fromArray([Ar("player"),h(Tr,"controls",xe(!0)),Pr(!0),Er(function(){var e=h(K,t.psong,t.songs);return"Just"===e.ctor?e._0.url:""}())]),O.fromArray([]))}),en=function(t){return h(R["++"],t.track,h(R["++"]," ",t.title))},rn=function(t){return h(R["++"],t.artist,h(R["++"]," / ",t.album))},nn=function(t){var e=h(C,h(C,h(C,h(K,t.psong,t.songs),function(t){return t.tag}),function(e){return h(zt,rn(e),t.cache)}),function(t){return P(h(Le,"cache",t))});return h(lr,O.fromArray([]),O.fromArray([fr(A(e))]))},on=(i(function(t,e){var r=h(Le,"req",{verb:"GET",headers:O.fromArray([{ctor:"_Tuple2",_0:"Access-Control-Allow-Origind",_1:"*"}]),url:e,body:Yr});return h(Vr,t,h(Dr,Nr,r))}),a(function(t,e,r){return{filename:t,url:e,tag:r}})),an=function(t){return h($,function(t){return _(on,T(t.file),w(t.file),t.tags)},t)},un=(i(function(t,e){var r=e;return h($,function(t){var e=t.tag;return"Nothing"===e.ctor?_(on,t.filename,t.url,b.eq(r._0,t.url)?P(r._1):B):t},t)}),a(function(t,e,r){return{songs:t,psong:e,cache:r}})),cn=h(st["!"],_(un,Q,-1,te),O.fromArray([])),fn=function(t){return{image:t}},sn=h(Qe[":="],"images",qe(h(Ke,fn,h(Qe[":="],"image",Je)))),ln=function(t){var e=_(Le,"getCover:",U,t.releases),r=e;return"Nothing"===r.ctor?pt(Xr):h(Kr,sn,"https://ia601304.us.archive.org/27/items/mbid-49d47af5-a7d1-4978-8b5d-4eb5f99918d1/index.js")},dn=i(function(t,e){return{id:t,name:e}}),hn=function(t){return{artist:t}},_n=a(function(t,e,r){return{mbid:t,title:e,artistcredit:r}}),gn=g(Ge,_n,h(Qe[":="],"id",Je),h(Qe[":="],"title",Je),h(Qe[":="],"artist-credit",qe(h(Ke,hn,h(Qe[":="],"artist",_(Ve,dn,h(Qe[":="],"id",Je),h(Qe[":="],"name",Je))))))),pn=i(function(t,e){return{count:t,releases:e}}),vn=_(Ve,pn,h(Qe[":="],"count",We),h(Qe[":="],"releases",qe(gn))),yn=function(t){var e=h(Le,"getReleaseMBID:",h(R["++"],h(R["++"],h(R["++"],h(R["++"],"https://beta.musicbrainz.org/ws/2/release/?query=release:",Fr(t.album)),"%20AND%20artist:"),Fr(t.artist)),"&fmt=json&limit=1"));return h(Kr,vn,e)},mn=i(function(t,e){return{head:t,body:e}}),bn=i(function(t,e){var r=i(function(t,e){return F(h(Y,function(t){var r=t.head;return"Just"===r.ctor&&!!b.eq(rn(e),r._0)},t))}),n=t.tag;if("Nothing"===n.ctor)return h(W,e,O.fromArray([h(mn,P(t.filename),t.filename)]));var o=n._0;return b.eq(h(r,e,o),!0)?h(W,e,O.fromArray([h(mn,P(rn(o)),en(o))])):h(W,e,O.fromArray([h(mn,B,en(o))]))}),wn=function(t){return{ctor:"HError",_0:t}},Tn=function(t){return{ctor:"UpdateCache",_0:t}},kn=function(t){return _(St,wn,Tn,h(_t,yn(t),ln))},Rn=function(t){return{ctor:"Error",_0:t}},An=function(t){return{ctor:"AudioMsg",_0:t}},En=function(t){return{ctor:"PlaySong",_0:t}},Sn=i(function(t,e){var r=t;switch(r.ctor){case"NewFiles":return h(st["!"],b.update(e,{songs:h(V,e.songs,an(r._0))}),O.fromArray([]));case"PlaySong":var n=r._0,o=h(C,h(C,h(K,n,e.songs),function(t){return t.tag}),function(t){var r=h(zt,rn(t),e.cache);return"Nothing"===r.ctor?P(O.fromArray([kn(t)])):B});return h(st["!"],b.update(e,{psong:n}),function(){var t=o;return"Just"===t.ctor?t._0:O.fromArray([])}());case"AudioMsg":var i=r._0;h(Le,"audiomsg",i);return b.eq(i,"ended")?h(st["!"],e,O.fromArray([_(St,Rn,En,yt(e.psong+1))])):h(st["!"],e,O.fromArray([]));case"Error":h(Le,"error",r._0);return h(st["!"],e,O.fromArray([]));case"HError":h(Le,"Herr",r._0);return h(st["!"],e,O.fromArray([]));default:h(Le,"update",r._0);return h(st["!"],e,O.fromArray([]))}}),Bn=function(t){var e=_(Z,bn,O.fromArray([]),t.songs);return h(lr,O.fromArray([Rr("album")]),J(h(N,i(function(e,r){var n=r.head;return"Just"===n.ctor?O.fromArray([h(_r,O.fromArray([]),O.fromArray([h(hr,O.fromArray([]),O.fromArray([fr(n._0)]))])),h(dr,O.fromArray([]),O.fromArray([])),h(pr,O.fromArray([Mr(En(e))]),O.fromArray([b.eq(e,t.psong)?h(vr,O.fromArray([]),O.fromArray([fr(r.body)])):fr(r.body)]))]):O.fromArray([h(pr,O.fromArray([Mr(En(e))]),O.fromArray([b.eq(e,t.psong)?h(vr,O.fromArray([]),O.fromArray([fr(r.body)])):fr(r.body)]))])}),e)))},Cn=function(t){return h(lr,O.fromArray([]),O.fromArray([h(_r,O.fromArray([]),O.fromArray([])),h(dr,O.fromArray([]),O.fromArray([h(mr,O.fromArray([Ar("fileinput"),Sr("file"),Br("audio/*"),h(Tr,"webkitdirectory",xe(!0)),h(Tr,"mozdirectory",xe(!0)),h(Tr,"directory",xe(!0)),Or(!0)]),O.fromArray([])),tn(t),nn(t)])),Bn(t),h(gr,O.fromArray([]),O.fromArray([]))]))},Pn=function(t){return{ctor:"NewFiles",_0:t}},On=function(t){return we(O.fromArray([Qr(Pn),Zr(An)]))},In={main:wr({init:cn,view:Cn,update:Sn,subscriptions:On})},Ln={};return Ln.Player=Ln.Player||{},at.addPublicModule(Ln.Player,"Player","undefined"==typeof In?null:In),r(3).amd?(n=[],o=function(){return Ln}.apply(e,n),!(void 0!==o&&(t.exports=o)),void 0):void(t.exports=Ln)}).call(this)}).call(e,r(2)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return new Promise(function(e,r){c["default"].read(t,{onSuccess:function(r){e({file:t,filetags:r.tags})},onError:function(r){console.error(r),e({file:t,filetags:null})}})})}var i=r(1),a=n(i),u=r(5),c=n(u);window.onload=function(){var t=window.File&&window.FileReader&&window.FileList&&window.Blob;if(!t)return void alert("The File APIs are not fully supported in this browser.");var e=document.getElementById("app"),r=a["default"].Player.embed(e),n=new MutationObserver(function(){var t=document.getElementById("fileinput");t&&t.addEventListener("change",function(t){for(var e=t.target.files,n=[],i=0;i<e.length;i++)e[i].type.match("audio.*")&&n.push(o(e[i]));Promise.all(n).then(function(t){var e=t.map(function(t){return t.filetags?{file:[t.file.name,URL.createObjectURL(t.file)],tags:{artist:t.filetags.artist,album:t.filetags.album,title:t.filetags.title,track:t.filetags.track}}:{file:[t.file.name,URL.createObjectURL(t.file)],tags:null}});r.ports.newFiles.send(e)})["catch"](function(t){console.error(t)})},!1);var e=document.getElementById("player");e&&(e.addEventListener("ended",function(t){r.ports.audioMsg.send("ended")}),e.addEventListener("error",function(t){console.error(t),r.ports.audioMsg.send("error")}))});n.observe(e,{attributes:!0,childList:!0,characterData:!0})}},function(t,e,r){var n,o,i,a,a;(function(r,u){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(r){if("object"===c(e)&&"undefined"!=typeof t)t.exports=r();else{o=[],n=r,i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}}(function(){return function t(e,r,n){function o(u,c){if(!r[u]){if(!e[u]){var f="function"==typeof a&&a;if(!c&&f)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[u]={exports:{}};e[u][0].call(l.exports,function(t){var r=e[u][1][t];return o(r?r:t)},l,l.exports,t,e,r,n)}return r[u].exports}for(var i="function"==typeof a&&a,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(t,e,r){},{}],2:[function(t,e,r){e.exports=XMLHttpRequest},{}],3:[function(t,e,n){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":c(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),f=t("./MediaFileReader"),s=function(t){function e(t){o(this,e);var r=i(this,Object.getPrototypeOf(e).call(this));return r._array=t,r._size=t.length,r._isInitialized=!0,r}return a(e,t),u(e,[{key:"init",value:function(t){setTimeout(t.onSuccess,0)}},{key:"loadRange",value:function(t,e){setTimeout(e.onSuccess,0)}},{key:"getByteAt",value:function(t){return this._array[t]}}],[{key:"canReadFile",value:function(t){return Array.isArray(t)||"function"==typeof r&&r.isBuffer(t)}}]),e}(f);e.exports=s},{"./MediaFileReader":10}],4:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":c(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./ChunkedFileData"),f=t("./MediaFileReader"),s=function(t){function e(t){n(this,e);var r=o(this,Object.getPrototypeOf(e).call(this));return r._blob=t,r._fileData=new u,r}return i(e,t),a(e,[{key:"_init",value:function(t){this._size=this._blob.size,setTimeout(t.onSuccess,1)}},{key:"loadRange",value:function(t,e){var r=this,n=this._blob.slice||this._blob.mozSlice||this._blob.webkitSlice,o=n.call(this._blob,t[0],t[1]+1),i=new FileReader;i.onloadend=function(n){var o=new Uint8Array(i.result);r._fileData.addData(t[0],o),e.onSuccess()},i.onerror=i.onabort=function(t){e.onError&&e.onError({type:"blob",info:i.error})},i.readAsArrayBuffer(o)}},{key:"getByteAt",value:function(t){return this._fileData.getByteAt(t)}}],[{key:"canReadFile",value:function(t){return"undefined"!=typeof Blob&&t instanceof Blob||"undefined"!=typeof File&&t instanceof File}}]),e}(f);e.exports=s},{"./ChunkedFileData":5,"./MediaFileReader":10}],5:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=-1,a=function(){function t(){n(this,t),this._fileData=[]}return o(t,null,[{key:"NOT_FOUND",get:function(){return i}}]),o(t,[{key:"addData",value:function(t,e){var r=t+e.length-1,n=this._getChunkRange(t,r);if(n.startIx===i)this._fileData.splice(n.insertIx||0,0,{offset:t,data:e});else{var o=this._fileData[n.startIx],a=this._fileData[n.endIx],u=t>o.offset,c=r<a.offset+a.data.length-1,f={offset:Math.min(t,o.offset),data:e};if(u){var s=this._sliceData(o.data,0,t-o.offset);f.data=this._concatData(s,e)}if(c){var s=this._sliceData(f.data,0,a.offset-f.offset);f.data=this._concatData(s,a.data)}this._fileData.splice(n.startIx,n.endIx-n.startIx+1,f)}}},{key:"_concatData",value:function(t,e){if("undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)){var r=new t.constructor(t.length+e.length);return r.set(t,0),r.set(e,t.length),r}return t.concat(e)}},{key:"_sliceData",value:function(t,e,r){return t.slice?t.slice(e,r):t.subarray(e,r)}},{key:"_getChunkRange",value:function(t,e){for(var r=i,n=i,o=0,a=0;a<this._fileData.length;a++,o=a){var u=this._fileData[a].offset,c=u+this._fileData[a].data.length;if(e<u-1)break;if(t<=c+1&&e>=u-1){r=a;break}}if(r===i)return{startIx:i,endIx:i,insertIx:o};for(var a=r;a<this._fileData.length;a++){var u=this._fileData[a].offset,c=u+this._fileData[a].data.length;if(e>=u-1&&(n=a),e<=c+1)break}return n===i&&(n=r),{startIx:r,endIx:n}}},{key:"hasDataRange",value:function(t,e){for(var r=0;r<this._fileData.length;r++){var n=this._fileData[r];if(e<n.offset)return!1;if(t>=n.offset&&e<n.offset+n.data.length)return!0}return!1}},{key:"getByteAt",value:function(t){for(var e,r=0;r<this._fileData.length;r++){var n=this._fileData[r].offset,o=n+this._fileData[r].data.length-1;if(t>=n&&t<=o){e=this._fileData[r];break}}if(e)return e.data[t-e.offset];throw new Error("Offset "+t+" hasn't been loaded yet.")}}]),t}();e.exports=a},{}],6:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":c(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./MediaTagReader"),f=(t("./MediaFileReader"),function(t){function e(){return n(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return i(e,t),a(e,[{key:"_loadData",value:function(t,e){var r=t.getSize();t.loadRange([r-128,r-1],e)}},{key:"_parseData",value:function(t,e){var r=t.getSize()-128,n=t.getStringWithCharsetAt(r+3,30).toString(),o=t.getStringWithCharsetAt(r+33,30).toString(),i=t.getStringWithCharsetAt(r+63,30).toString(),a=t.getStringWithCharsetAt(r+93,4).toString(),u=t.getByteAt(r+97+28),c=t.getByteAt(r+97+29);if(0==u&&0!=c)var f="1.1",l=t.getStringWithCharsetAt(r+97,28).toString();else{var f="1.0",l=t.getStringWithCharsetAt(r+97,30).toString();c=0}var d=t.getByteAt(r+97+30);if(d<255)var h=s[d];else var h="";var _={type:"ID3",version:f,tags:{title:n,artist:o,album:i,year:a,comment:l,genre:h}};return c&&(_.tags.track=c),_}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:-128,length:128}}},{key:"canReadTagFormat",value:function(t){var e=String.fromCharCode.apply(String,t.slice(0,3));return"TAG"===e}}]),e}(u)),s=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall"];e.exports=f},{"./MediaFileReader":10,"./MediaTagReader":11}],7:[function(t,e,r){function n(t){var e;switch(t){case 0:e="iso-8859-1";break;case 1:e="utf-16";break;case 2:e="utf-16be";break;case 3:e="utf-8"}return e}var o=(t("./MediaFileReader"),{getFrameReaderFunction:function(t){return t in i?i[t]:"T"===t[0]?i["T*"]:"W"===t[0]?i["W*"]:null}}),i={};i.APIC=function(t,e,r,o,i){i=i||"3";var u=t,c=n(r.getByteAt(t));switch(i){case"2":var f=r.getStringAt(t+1,3);t+=4;break;case"3":case"4":var f=r.getStringWithCharsetAt(t+1,e-1);t+=1+f.bytesReadCount;break;default:throw new Error("Couldn't read ID3v2 major version.")}var s=r.getByteAt(t,1),l=a[s],d=r.getStringWithCharsetAt(t+1,e-(t-u)-1,c);return t+=1+d.bytesReadCount,{format:f.toString(),type:l,description:d.toString(),data:r.getBytesAt(t,u+e-t)}},i.COMM=function(t,e,r,o,i){var a=t,u=n(r.getByteAt(t)),c=r.getStringAt(t+1,3),f=r.getStringWithCharsetAt(t+4,e-4,u);t+=4+f.bytesReadCount;var s=r.getStringWithCharsetAt(t,a+e-t,u);return{language:c,short_description:f.toString(),text:s.toString()}},i.COM=i.COMM,i.PIC=function(t,e,r,n,o){return i.APIC(t,e,r,n,"2")},i.PCNT=function(t,e,r,n,o){return r.getLongAt(t,!1)},i.CNT=i.PCNT,i["T*"]=function(t,e,r,o,i){var a=n(r.getByteAt(t));return r.getStringWithCharsetAt(t+1,e-1,a).toString()},i["W*"]=function(t,e,r,o,i){var a=n(r.getByteAt(t));return void 0!==a?r.getStringWithCharsetAt(t+1,e-1,a).toString():r.getStringWithCharsetAt(t,e,a).toString()},i.TCON=function(t,e,r,n){var o=i["T*"].apply(this,arguments);return o.replace(/^\(\d+\)/,"")},i.TCO=i.TCON,i.USLT=function(t,e,r,o,i){var a=t,u=n(r.getByteAt(t)),c=r.getStringAt(t+1,3),f=r.getStringWithCharsetAt(t+4,e-4,u);t+=4+f.bytesReadCount;var s=r.getStringWithCharsetAt(t,a+e-t,u);return{language:c,descriptor:f.toString(),lyrics:s.toString()}},i.ULT=i.USLT;var a=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];e.exports=o},{"./MediaFileReader":10}],8:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":c(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./MediaTagReader"),f=(t("./MediaFileReader"),t("./ID3v2FrameReader")),s=10,l=function(t){function e(){return n(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return i(e,t),a(e,[{key:"_loadData",value:function(t,e){t.loadRange([6,9],{onSuccess:function(){t.loadRange([0,s+t.getSynchsafeInteger32At(6)-1],e)},onError:e.onError})}},{key:"_parseData",value:function(t,e){var r=0,n=t.getByteAt(r+3);if(n>4)return{type:"ID3",version:">2.4",tags:{}};var o=t.getByteAt(r+4),i=t.isBitSetAt(r+5,7),a=t.isBitSetAt(r+5,6),u=t.isBitSetAt(r+5,5),c=t.getSynchsafeInteger32At(r+6);if(r+=10,a){var f=t.getLongAt(r,!0);r+=f+4}var s={type:"ID3",version:"2."+n+"."+o,major:n,revision:o,flags:{unsynchronisation:i,extended_header:a,experimental_indicator:u,footer_present:!1},size:c,tags:{}};if(i)var l={};else var l=this._readFrames(r,c-10,t,s,e);for(var d in h)if(h.hasOwnProperty(d)){var _=this._getFrameData(l,h[d]);_&&(s.tags[d]=_)}for(var g in l)l.hasOwnProperty(g)&&(s.tags[g]=l[g]);return s}},{key:"_readFrames",value:function(t,e,r,n,o){var i={};for(o&&(o=this._expandShortcutTags(o));t<e;){var a=this._readFrameHeader(r,t,n),u=a.id;if(0===a.size)break;if(!u)break;var c=a.flags,s=a.size,l=t+a.headerSize;if(t+=a.headerSize+a.size,!(o&&o.indexOf(u)===-1||c&&c.format.unsynchronisation)){c&&c.format.data_length_indicator&&(l+=4,s-=4);var d=f.getFrameReaderFunction(u),h=d?d(l,s,r,c):null,_=this._getFrameDescription(u),g={id:u,size:s,description:_,data:h};u in i?(i[u].id&&(i[u]=[i[u]]),i[u].push(g)):i[u]=g}}return i}},{key:"_readFrameHeader",value:function(t,e,r){var n=r.major,o=null;switch(n){case 2:var i=t.getStringAt(e,3),a=t.getInteger24At(e+3,!0),u=6;break;case 3:var i=t.getStringAt(e,4),a=t.getLongAt(e+4,!0),u=10;break;case 4:var i=t.getStringAt(e,4),a=t.getSynchsafeInteger32At(e+4),u=10}return i&&n>2&&(o=this._readFrameFlags(t,e+8)),{id:i||"",size:a||0,headerSize:u||0,flags:o}}},{key:"_readFrameFlags",value:function(t,e){return{message:{tag_alter_preservation:t.isBitSetAt(e,6),file_alter_preservation:t.isBitSetAt(e,5),read_only:t.isBitSetAt(e,4)},format:{grouping_identity:t.isBitSetAt(e+1,7),compression:t.isBitSetAt(e+1,3),encryption:t.isBitSetAt(e+1,2),unsynchronisation:t.isBitSetAt(e+1,1),data_length_indicator:t.isBitSetAt(e+1,0)}}}},{key:"_getFrameData",value:function(t,e){for(var r,n=0;r=e[n];n++)if(r in t)return t[r].data}},{key:"_getFrameDescription",value:function(t){return t in d?d[t]:"Unknown"}},{key:"getShortcuts",value:function(){return h}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:s}}},{key:"canReadTagFormat",value:function(t){var e=String.fromCharCode.apply(String,t.slice(0,3));return"ID3"===e}}]),e}(u),d={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",ASPI:"Audio seek point index",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQU2:"Equalisation (2)",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVA2:"Relative volume adjustment (2)",RVAD:"Relative volume adjustment",RVRB:"Reverb",SEEK:"Seek frame",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TDRC:"Recording time",TDRL:"Release time",TDTG:"Tagging time",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIPL:"Involved people list",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMCL:"Musician credits list",TMED:"Media type",TMOO:"Mood",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPRO:"Produced notice",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSOA:"Album sort order",TSOP:"Performer sort order",TSOT:"Title sort order",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TSST:"Set subtitle",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},h={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]};e.exports=l},{"./ID3v2FrameReader":7,"./MediaFileReader":10,"./MediaTagReader":11}],9:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":c(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./MediaTagReader"),f=(t("./MediaFileReader"),function(t){function e(){return n(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return i(e,t),a(e,[{key:"_loadData",value:function(t,e){var r=this;t.loadRange([0,16],{onSuccess:function(){r._loadAtom(t,0,"",e)},onError:e.onError})}},{key:"_loadAtom",value:function(t,e,r,n){if(e>=t.getSize())return void n.onSuccess();var o=this,i=t.getLongAt(e,!0);if(0==i||isNaN(i))return void n.onSuccess();var a=t.getStringAt(e+4,4);
if(this._isContainerAtom(a)){"meta"==a&&(e+=4);var u=(r?r+".":"")+a;"moov.udta.meta.ilst"===u?t.loadRange([e,e+i],n):t.loadRange([e+8,e+8+8],{onSuccess:function(){o._loadAtom(t,e+8,u,n)},onError:n.onError})}else t.loadRange([e+i,e+i+8],{onSuccess:function(){o._loadAtom(t,e+i,r,n)},onError:n.onError})}},{key:"_isContainerAtom",value:function(t){return["moov","udta","meta","ilst"].indexOf(t)>=0}},{key:"_canReadAtom",value:function(t){return"----"!==t}},{key:"_parseData",value:function(t,e){var r={};e=this._expandShortcutTags(e),this._readAtom(r,t,0,t.getSize(),e);for(var n in d)if(d.hasOwnProperty(n)){var o=r[d[n]];o&&("track"===n?r[n]=o.data.track:r[n]=o.data)}return{type:"MP4",ftyp:t.getStringAt(8,4),version:t.getLongAt(12,!0),tags:r}}},{key:"_readAtom",value:function(t,e,r,n,o,i,a){a=void 0===a?"":a+"  ";for(var u=r;u<r+n;){var c=e.getLongAt(u,!0);if(0==c)return;var f=e.getStringAt(u+4,4);if(this._isContainerAtom(f)){"meta"==f&&(u+=4);var s=(i?i+".":"")+f;return void this._readAtom(t,e,u+8,c-8,o,s,a)}(!o||o.indexOf(f)>=0)&&"moov.udta.meta.ilst"===i&&this._canReadAtom(f)&&(t[f]=this._readMetadataAtom(e,u)),u+=c}}},{key:"_readMetadataAtom",value:function(t,e){var r,n=16,o=t.getLongAt(e,!0),i=t.getStringAt(e+4,4),a=t.getInteger24At(e+n+1,!0),u=s[a];if("trkn"==i)r={track:t.getByteAt(e+n+11),total:t.getByteAt(e+n+13)};else{var r,c=n+4+4,f=e+c,d=o-c;switch(u){case"text":r=t.getStringWithCharsetAt(f,d,"utf-8").toString();break;case"uint8":r=t.getShortAt(f,!1);break;case"jpeg":case"png":r={format:"image/"+u,data:t.getBytesAt(f,d)}}}return{id:i,size:o,description:l[i]||"Unknown",data:r}}},{key:"getShortcuts",value:function(){return d}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:16}}},{key:"canReadTagFormat",value:function(t){var e=String.fromCharCode.apply(String,t.slice(4,8));return"ftyp"===e}}]),e}(u)),s={0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},l={"alb":"Album","ART":"Artist",aART:"Album Artist","day":"Release Date","nam":"Title","gen":"Genre",gnre:"Genre",trkn:"Track Number","wrt":"Composer","too":"Encoding Tool","enc":"Encoded By",cprt:"Copyright",covr:"Cover Art","grp":"Grouping",keyw:"Keywords","lyr":"Lyrics","cmt":"Comment",tmpo:"Tempo",cpil:"Compilation",disk:"Disc Number",tvsh:"TV Show Name",tven:"TV Episode ID",tvsn:"TV Season",tves:"TV Episode",tvnn:"TV Network",desc:"Description",ldes:"Long Description",sonm:"Sort Name",soar:"Sort Artist",soaa:"Sort Album",soco:"Sort Composer",sosn:"Sort Show",purd:"Purchase Date",pcst:"Podcast",purl:"Podcast URL",catg:"Category",hdvd:"HD Video",stik:"Media Type",rtng:"Content Rating",pgap:"Gapless Playback",apID:"Purchase Account",sfID:"Country Code"},d={title:"nam",artist:"ART",album:"alb",year:"day",comment:"cmt",track:"trkn",genre:"gen",picture:"covr",lyrics:"lyr"};e.exports=f},{"./MediaFileReader":10,"./MediaTagReader":11}],10:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./StringUtils"),a=function(){function t(){n(this,t),this._isInitialized=!1,this._size=0}return o(t,[{key:"init",value:function(t){var e=this;return this._isInitialized?void setTimeout(t.onSuccess,1):this._init({onSuccess:function(){e._isInitialized=!0,t.onSuccess()},onError:t.onError})}},{key:"_init",value:function(t){throw new Error("Must implement init function")}},{key:"loadRange",value:function(t,e){throw new Error("Must implement loadRange function")}},{key:"getSize",value:function(){if(!this._isInitialized)throw new Error("init() must be called first.");return this._size}},{key:"getByteAt",value:function(t){throw new Error("Must implement getByteAt function")}},{key:"getBytesAt",value:function(t,e){for(var r=new Array(e),n=0;n<e;n++)r[n]=this.getByteAt(t+n);return r}},{key:"isBitSetAt",value:function(t,e){var r=this.getByteAt(t);return 0!=(r&1<<e)}},{key:"getSByteAt",value:function(t){var e=this.getByteAt(t);return e>127?e-256:e}},{key:"getShortAt",value:function(t,e){var r=e?(this.getByteAt(t)<<8)+this.getByteAt(t+1):(this.getByteAt(t+1)<<8)+this.getByteAt(t);return r<0&&(r+=65536),r}},{key:"getSShortAt",value:function(t,e){var r=this.getShortAt(t,e);return r>32767?r-65536:r}},{key:"getLongAt",value:function(t,e){var r=this.getByteAt(t),n=this.getByteAt(t+1),o=this.getByteAt(t+2),i=this.getByteAt(t+3),a=e?(((r<<8)+n<<8)+o<<8)+i:(((i<<8)+o<<8)+n<<8)+r;return a<0&&(a+=4294967296),a}},{key:"getSLongAt",value:function(t,e){var r=this.getLongAt(t,e);return r>2147483647?r-4294967296:r}},{key:"getInteger24At",value:function(t,e){var r=this.getByteAt(t),n=this.getByteAt(t+1),o=this.getByteAt(t+2),i=e?((r<<8)+n<<8)+o:((o<<8)+n<<8)+r;return i<0&&(i+=16777216),i}},{key:"getStringAt",value:function(t,e){for(var r=[],n=t,o=0;n<t+e;n++,o++)r[o]=String.fromCharCode(this.getByteAt(n));return r.join("")}},{key:"getStringWithCharsetAt",value:function(t,e,r){var n,o=this.getBytesAt(t,e);switch((r||"").toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":n=i.readUTF16String(o,"utf-16be"===r);break;case"utf-8":n=i.readUTF8String(o);break;default:n=i.readNullTerminatedString(o)}return n}},{key:"getCharAt",value:function(t){return String.fromCharCode(this.getByteAt(t))}},{key:"getSynchsafeInteger32At",value:function(t){var e=this.getByteAt(t),r=this.getByteAt(t+1),n=this.getByteAt(t+2),o=this.getByteAt(t+3),i=127&o|(127&n)<<7|(127&r)<<14|(127&e)<<21;return i}}],[{key:"canReadFile",value:function(t){throw new Error("Must implement canReadFile function")}}]),t}();e.exports=a},{"./StringUtils":12}],11:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=(t("./MediaFileReader"),function(){function t(e){n(this,t),this._mediaFileReader=e,this._tags=null}return o(t,[{key:"setTagsToRead",value:function(t){return this._tags=t,this}},{key:"read",value:function(t){var e=this;this._mediaFileReader.init({onSuccess:function(){e._loadData(e._mediaFileReader,{onSuccess:function(){var r=e._parseData(e._mediaFileReader,e._tags);t.onSuccess(r)},onError:t.onError})},onError:t.onError})}},{key:"getShortcuts",value:function(){return{}}},{key:"_loadData",value:function(t,e){throw new Error("Must implement _loadData function")}},{key:"_parseData",value:function(t,e){throw new Error("Must implement _parseData function")}},{key:"_expandShortcutTags",value:function(t){if(!t)return null;for(var e,r=[],n=this.getShortcuts(),o=0;e=t[o];o++)r=r.concat(n[e]||[e]);return r}}],[{key:"getTagIdentifierByteRange",value:function(){throw new Error("Must implement")}},{key:"canReadTagFormat",value:function(t){throw new Error("Must implement")}}]),t}());e.exports=i},{"./MediaFileReader":10}],12:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e,r){n(this,t),this._value=e,this.bytesReadCount=r,this.length=e.length}return o(t,[{key:"toString",value:function(){return this._value}}]),t}(),a={readUTF16String:function(t,e,r){var n=0,o=1,a=0;r=Math.min(r||t.length,t.length),254==t[0]&&255==t[1]?(e=!0,n=2):255==t[0]&&254==t[1]&&(e=!1,n=2),e&&(o=0,a=1);for(var u=[],c=0;n<r;c++){var f=t[n+o],s=t[n+a],l=(f<<8)+s;if(n+=2,0==l)break;if(f<216||f>=224)u[c]=String.fromCharCode(l);else{var d=t[n+o],h=t[n+a],_=(d<<8)+h;n+=2,u[c]=String.fromCharCode(l,_)}}return new i(u.join(""),n)},readUTF8String:function(t,e){var r=0;e=Math.min(e||t.length,t.length),239==t[0]&&187==t[1]&&191==t[2]&&(r=3);for(var n=[],o=0;r<e;o++){var a=t[r++];if(0==a)break;if(a<128)n[o]=String.fromCharCode(a);else if(a>=194&&a<224){var u=t[r++];n[o]=String.fromCharCode(((31&a)<<6)+(63&u))}else if(a>=224&&a<240){var u=t[r++],c=t[r++];n[o]=String.fromCharCode(((255&a)<<12)+((63&u)<<6)+(63&c))}else if(a>=240&&a<245){var u=t[r++],c=t[r++],f=t[r++],s=((7&a)<<18)+((63&u)<<12)+((63&c)<<6)+(63&f)-65536;n[o]=String.fromCharCode((s>>10)+55296,(1023&s)+56320)}}return new i(n.join(""),r)},readNullTerminatedString:function(t,e){var r=[];e=e||t.length;for(var n=0;n<e;){var o=t[n++];if(0==o)break;r[n-1]=String.fromCharCode(o)}return new i(r.join(""),n)}};e.exports=a},{}],13:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":c(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./ChunkedFileData"),f=t("./MediaFileReader"),s=1024,l=function(e){function r(t){n(this,r);var e=o(this,Object.getPrototypeOf(r).call(this));return e._url=t,e._fileData=new u,e}return i(r,e),a(r,[{key:"_init",value:function(t){r._config.avoidHeadRequests?this._fetchSizeWithGetRequest(t):this._fetchSizeWithHeadRequest(t)}},{key:"_fetchSizeWithHeadRequest",value:function(t){var e=this;this._makeXHRRequest("HEAD",null,{onSuccess:function(r){var n=e._parseContentLength(r);n?(e._size=n,t.onSuccess()):e._fetchSizeWithGetRequest(t)},onError:t.onError})}},{key:"_fetchSizeWithGetRequest",value:function(t){var e=this,r=this._roundRangeToChunkMultiple([0,0]);this._makeXHRRequest("GET",r,{onSuccess:function(r){var n=e._parseContentRange(r),o=e._getXhrResponseContent(r);if(n){if(null==n.instanceLength)return void e._fetchEntireFile(t);e._size=n.instanceLength}else e._size=o.length;e._fileData.addData(0,o),t.onSuccess()},onError:t.onError})}},{key:"_fetchEntireFile",value:function(t){var e=this;this._makeXHRRequest("GET",null,{onSuccess:function(r){var n=e._getXhrResponseContent(r);e._size=n.length,e._fileData.addData(0,n),t.onSuccess()},onError:t.onError})}},{key:"_getXhrResponseContent",value:function(t){return t.responseBody||t.responseText||""}},{key:"_parseContentLength",value:function(t){var e=this._getResponseHeader(t,"Content-Length");return null==e?e:parseInt(e,10)}},{key:"_parseContentRange",value:function(t){var e=this._getResponseHeader(t,"Content-Range");if(e){var r=e.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i);if(!r)throw new Error("FIXME: Unknown Content-Range syntax: ",e);return{firstBytePosition:parseInt(r[1],10),lastBytePosition:parseInt(r[2],10),instanceLength:r[3]?parseInt(r[3],10):null}}return null}},{key:"loadRange",value:function(t,e){var r=this;return r._fileData.hasDataRange(t[0],t[1])?void setTimeout(e.onSuccess,1):(t=this._roundRangeToChunkMultiple(t),void this._makeXHRRequest("GET",t,{onSuccess:function(n){var o=r._getXhrResponseContent(n);r._fileData.addData(t[0],o),e.onSuccess()},onError:e.onError}))}},{key:"_roundRangeToChunkMultiple",value:function(t){var e=t[1]-t[0]+1,r=Math.ceil(e/s)*s;return[t[0],t[0]+r-1]}},{key:"_makeXHRRequest",value:function(t,e,n){var o=this._createXHRObject(),i=function(){200===o.status||206===o.status?n.onSuccess(o):n.onError&&n.onError({type:"xhr",info:"Unexpected HTTP status "+o.status+".",xhr:o}),o=null};"undefined"!=typeof o.onload?(o.onload=i,o.onerror=function(){n.onError&&n.onError({type:"xhr",info:"Generic XHR error, check xhr object.",xhr:o})}):o.onreadystatechange=function(){4===o.readyState&&i()},r._config.timeoutInSec&&(o.timeout=1e3*r._config.timeoutInSec,o.ontimeout=function(){n.onError&&n.onError({type:"xhr",info:"Timeout after "+o.timeout/1e3+"s. Use jsmediatags.Config.setXhrTimeout to override.",xhr:o})}),o.open(t,this._url),o.overrideMimeType("text/plain; charset=x-user-defined"),e&&this._setRequestHeader(o,"Range","bytes="+e[0]+"-"+e[1]),this._setRequestHeader(o,"If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),o.send(null)}},{key:"_setRequestHeader",value:function(t,e,n){r._config.disallowedXhrHeaders.indexOf(e.toLowerCase())<0&&t.setRequestHeader(e,n)}},{key:"_hasResponseHeader",value:function(t,e){var r=t.getAllResponseHeaders();if(!r)return!1;for(var n=r.split("\r\n"),o=[],i=0;i<n.length;i++)o[i]=n[i].split(":")[0].toLowerCase();return o.indexOf(e.toLowerCase())>=0}},{key:"_getResponseHeader",value:function(t,e){return this._hasResponseHeader(t,e)?t.getResponseHeader(e):null}},{key:"getByteAt",value:function(t){var e=this._fileData.getByteAt(t);return 255&e.charCodeAt(0)}},{key:"_createXHRObject",value:function(){if("undefined"==typeof window)return new(t("xhr2").XMLHttpRequest);if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw new Error("XMLHttpRequest is not supported")}}],[{key:"canReadFile",value:function(t){return"string"==typeof t&&/^[a-z]+:\/\//i.test(t)}},{key:"setConfig",value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this._config[e]=t[e]);for(var r=this._config.disallowedXhrHeaders,n=0;n<r.length;n++)r[n]=r[n].toLowerCase()}}]),r}(f);l._config={avoidHeadRequests:!1,disallowedXhrHeaders:[],timeoutInSec:30},e.exports=l},{"./ChunkedFileData":5,"./MediaFileReader":10,xhr2:2}],14:[function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){new p(t).read(e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=(t("./MediaFileReader"),t("./NodeFileReader")),c=t("./XhrFileReader"),f=t("./BlobFileReader"),s=t("./ArrayFileReader"),l=(t("./MediaTagReader"),t("./ID3v1TagReader")),d=t("./ID3v2TagReader"),h=t("./MP4TagReader"),_=[],g=[],p=function(){function t(e){n(this,t),this._file=e}return i(t,[{key:"setTagsToRead",value:function(t){return this._tagsToRead=t,this}},{key:"setFileReader",value:function(t){return this._fileReader=t,this}},{key:"setTagReader",value:function(t){return this._tagReader=t,this}},{key:"read",value:function(t){var e=this._getFileReader(),r=new e(this._file),n=this;r.init({onSuccess:function(){n._getTagReader(r,{onSuccess:function(e){new e(r).setTagsToRead(n._tagsToRead).read(t)},onError:t.onError})},onError:t.onError})}},{key:"_getFileReader",value:function(){return this._fileReader?this._fileReader:this._findFileReader()}},{key:"_findFileReader",value:function(){for(var t=0;t<_.length;t++)if(_[t].canReadFile(this._file))return _[t];throw new Error("No suitable file reader found for ",this._file)}},{key:"_getTagReader",value:function(t,e){if(this._tagReader){var r=this._tagReader;setTimeout(function(){e.onSuccess(r)},1)}else this._findTagReader(t,e)}},{key:"_findTagReader",value:function(t,e){for(var r=[],n=[],o=t.getSize(),i=0;i<g.length;i++){var a=g[i].getTagIdentifierByteRange();a.offset>=0&&a.offset<o/2||a.offset<0&&a.offset<-o/2?r.push(g[i]):n.push(g[i])}var u=!1,c={onSuccess:function(){if(!u)return void(u=!0);for(var r=0;r<g.length;r++){var n=g[r].getTagIdentifierByteRange(),i=t.getBytesAt(n.offset>=0?n.offset:n.offset+o,n.length);if(g[r].canReadTagFormat(i))return void e.onSuccess(g[r])}e.onError&&e.onError({type:"tagFormat",info:"No suitable tag reader found"})},onError:e.onError};this._loadTagIdentifierRanges(t,r,c),this._loadTagIdentifierRanges(t,n,c)}},{key:"_loadTagIdentifierRanges",value:function(t,e,r){if(0===e.length)return void setTimeout(r.onSuccess,1);for(var n=[Number.MAX_VALUE,0],o=t.getSize(),i=0;i<e.length;i++){var a=e[i].getTagIdentifierByteRange(),u=a.offset>=0?a.offset:a.offset+o,c=u+a.length-1;n[0]=Math.min(u,n[0]),n[1]=Math.max(c,n[1])}t.loadRange(n,r)}}]),t}(),v=function(){function t(){n(this,t)}return i(t,null,[{key:"addFileReader",value:function(e){return _.push(e),t}},{key:"addTagReader",value:function(e){return g.push(e),t}},{key:"removeTagReader",value:function(e){var r=g.indexOf(e);return r>=0&&g.splice(r,1),t}},{key:"EXPERIMENTAL_avoidHeadRequests",value:function(){c.setConfig({avoidHeadRequests:!0})}},{key:"setDisallowedXhrHeaders",value:function(t){c.setConfig({disallowedXhrHeaders:t})}},{key:"setXhrTimeoutInSec",value:function(t){c.setConfig({timeoutInSec:t})}}]),t}();v.addFileReader(c).addFileReader(f).addFileReader(s).addTagReader(d).addTagReader(l).addTagReader(h),"undefined"!=typeof u&&v.addFileReader(a),e.exports={read:o,Reader:p,Config:v}},{"./ArrayFileReader":3,"./BlobFileReader":4,"./ID3v1TagReader":6,"./ID3v2TagReader":8,"./MP4TagReader":9,"./MediaFileReader":10,"./MediaTagReader":11,"./NodeFileReader":1,"./XhrFileReader":13}]},{},[14])(14)})}).call(e,r(6).Buffer,r(10))},function(t,e,r){(function(t,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(r){return!1}}function i(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?u(this,e,arguments.length>1?arguments[1]:"utf8"):c(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function a(e,r){if(e=g(e,r<0?0:0|p(r)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;n++)e[n]=0;return e}function u(t,e,r){"string"==typeof r&&""!==r||(r="utf8");var n=0|y(e,r);return t=g(t,n),t.write(e,r),t}function c(e,r){if(t.isBuffer(r))return f(e,r);if(K(r))return s(e,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(r.buffer instanceof ArrayBuffer)return l(e,r);if(r instanceof ArrayBuffer)return d(e,r)}return r.length?h(e,r):_(e,r)}function f(t,e){var r=0|p(e.length);return t=g(t,r),e.copy(t,0,0,r),t}function s(t,e){var r=0|p(e.length);t=g(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function l(t,e){var r=0|p(e.length);t=g(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(e,r){return t.TYPED_ARRAY_SUPPORT?(r.byteLength,e=t._augment(new Uint8Array(r))):e=l(e,new Uint8Array(r)),e}function h(t,e){var r=0|p(e.length);t=g(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function _(t,e){var r,n=0;"Buffer"===e.type&&K(e.data)&&(r=e.data,n=0|p(r.length)),t=g(t,n);for(var o=0;o<n;o+=1)t[o]=255&r[o];return t}function g(e,r){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(r)),e.__proto__=t.prototype):(e.length=r,e._isBuffer=!0);var n=0!==r&&r<=t.poolSize>>>1;return n&&(e.parent=Q),e}function p(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function v(e,r){if(!(this instanceof v))return new v(e,r);var n=new t(e,r);return delete n.parent,n}function y(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(t).length;default:if(n)return q(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if(e=0|e,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),e<0&&(e=0),r>this.length&&(r=this.length),r<=e)return"";for(;;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return C(this,e,r);case"binary":return P(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;a++){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[r+a]=u}return a}function w(t,e,r,n){return X(q(e,t.length-r),t,r,n)}function T(t,e,r,n){return X(H(e),t,r,n)}function k(t,e,r,n){return T(t,e,r,n)}function R(t,e,r,n){return X(J(e),t,r,n)}function A(t,e,r,n){return X(W(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?G.fromByteArray(t):G.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i=t[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=r){var c,f,s,l;switch(u){case 1:i<128&&(a=i);break;case 2:c=t[o+1],128===(192&c)&&(l=(31&i)<<6|63&c,l>127&&(a=l));break;case 3:c=t[o+1],f=t[o+2],128===(192&c)&&128===(192&f)&&(l=(15&i)<<12|(63&c)<<6|63&f,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:c=t[o+1],f=t[o+2],s=t[o+3],128===(192&c)&&128===(192&f)&&128===(192&s)&&(l=(15&i)<<18|(63&c)<<12|(63&f)<<6|63&s,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=u}return B(n)}function B(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Z));return r}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;o++)n+=String.fromCharCode(127&t[o]);return n}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;o++)n+=String.fromCharCode(t[o]);return n}function O(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;i++)o+=Y(t[i]);return o}function I(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function L(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,r,n,o,i,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(r>i||r<a)throw new RangeError("value is out of bounds");if(n+o>e.length)throw new RangeError("index out of range")}function x(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;o++)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;o++)t[r+o]=e>>>8*(n?o:3-o)&255}function N(t,e,r,n,o,i){if(e>o||e<i)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function F(t,e,r,n,o){return o||N(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return o||N(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(t,e,r,n,52,8),r+8}function j(t){if(t=z(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var r,n=t.length,o=null,i=[],a=0;a<n;a++){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function H(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);a++)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function J(t){return G.toByteArray(j(t))}function X(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);o++)e[o+r]=t[o];return o}var G=r(7),V=r(8),K=r(9);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var Q={};t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:o(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,r){if(!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,o=r.length,i=0,a=Math.min(n,o);i<a&&e[i]===r[i];)++i;return i!==a&&(n=e[i],o=r[i]),n<o?-1:o<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;n++)r+=e[n].length;var o=new t(r),i=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(o,i),i+=a.length}return o},t.byteLength=y,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):m.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,r){function n(t,e,r){for(var n=-1,o=0;r+o<t.length;o++)if(t[r+o]===e[n===-1?0:o-n]){if(n===-1&&(n=o),o-n+1===e.length)return r+n}else n=-1;return-1}if(r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(r<0&&(r=Math.max(this.length+r,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,r);if(t.isBuffer(e))return n(this,e,r);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,r):n(this,[e],r);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var o=n;n=e,e=0|r,r=o}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return T(this,t,e,r);case"binary":return k(this,t,e,r);case"base64":return R(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;t.prototype.slice=function(e,r){var n=this.length;e=~~e,r=void 0===r?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var o;if(t.TYPED_ARRAY_SUPPORT)o=t._augment(this.subarray(e,r));else{var i=r-e;o=new t(i,(void 0));for(var a=0;a<i;a++)o[a]=this[a+e]}return o.length&&(o.parent=this.parent||this),o},t.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},t.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},t.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},t.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},t.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),V.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),V.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),V.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),V.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||M(this,t,e,r,Math.pow(2,8*r),0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},t.prototype.writeUIntBE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||M(this,t,e,r,Math.pow(2,8*r),0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},t.prototype.writeUInt8=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},t.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):x(this,e,r,!0),r+2},t.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):x(this,e,r,!1),r+2},t.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):D(this,e,r,!0),r+4},t.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):D(this,e,r,!1),r+4},t.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=0,a=1,u=t<0?1:0;for(this[e]=255&t;++i<r&&(a*=256);)this[e+i]=(t/a>>0)-u&255;return e+r},t.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=r-1,a=1,u=t<0?1:0;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=(t/a>>0)-u&255;return e+r},t.prototype.writeInt8=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},t.prototype.writeInt16LE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):x(this,e,r,!0),r+2},t.prototype.writeInt16BE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):x(this,e,r,!1),r+2},t.prototype.writeInt32LE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):D(this,e,r,!0),r+4},t.prototype.writeInt32BE=function(e,r,n){return e=+e,r=0|r,n||M(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):D(this,e,r,!1),r+4},t.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},t.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},t.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},t.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},t.prototype.copy=function(e,r,n,o){if(n||(n=0),o||0===o||(o=this.length),r>=e.length&&(r=e.length),r||(r=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-n&&(o=e.length-r+n);var i,a=o-n;if(this===e&&n<r&&r<o)for(i=a-1;i>=0;i--)e[i+r]=this[i+n];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(i=0;i<a;i++)e[i+r]=this[i+n];else e._set(this.subarray(n,n+a),r);return a},t.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),r<e)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;n<r;n++)this[n]=t;else{var o=q(t.toString()),i=o.length;for(n=e;n<r;n++)this[n]=o[n%i]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),r=0,n=e.length;r<n;r+=1)e[r]=this[r];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=$.get,e.set=$.set,e.write=$.write,e.toString=$.toString,e.toLocaleString=$.toString,e.toJSON=$.toJSON,e.equals=$.equals,e.compare=$.compare,e.indexOf=$.indexOf,e.copy=$.copy,e.slice=$.slice,e.readUIntLE=$.readUIntLE,e.readUIntBE=$.readUIntBE,e.readUInt8=$.readUInt8,e.readUInt16LE=$.readUInt16LE,e.readUInt16BE=$.readUInt16BE,e.readUInt32LE=$.readUInt32LE,e.readUInt32BE=$.readUInt32BE,e.readIntLE=$.readIntLE,e.readIntBE=$.readIntBE,e.readInt8=$.readInt8,e.readInt16LE=$.readInt16LE,e.readInt16BE=$.readInt16BE,e.readInt32LE=$.readInt32LE,e.readInt32BE=$.readInt32BE,e.readFloatLE=$.readFloatLE,e.readFloatBE=$.readFloatBE,e.readDoubleLE=$.readDoubleLE,e.readDoubleBE=$.readDoubleBE,e.writeUInt8=$.writeUInt8,e.writeUIntLE=$.writeUIntLE,e.writeUIntBE=$.writeUIntBE,e.writeUInt16LE=$.writeUInt16LE,e.writeUInt16BE=$.writeUInt16BE,e.writeUInt32LE=$.writeUInt32LE,e.writeUInt32BE=$.writeUInt32BE,e.writeIntLE=$.writeIntLE,e.writeIntBE=$.writeIntBE,e.writeInt8=$.writeInt8,e.writeInt16LE=$.writeInt16LE,e.writeInt16BE=$.writeInt16BE,e.writeInt32LE=$.writeInt32LE,e.writeInt32BE=$.writeInt32BE,e.writeFloatLE=$.writeFloatLE,e.writeFloatBE=$.writeFloatBE,e.writeDoubleLE=$.writeDoubleLE,e.writeDoubleBE=$.writeDoubleBE,e.fill=$.fill,e.inspect=$.inspect,e.toArrayBuffer=$.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,r(6).Buffer,function(){return this}())},function(t,e,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===l?62:e===u||e===d?63:e<c?-1:e<c+10?e-c+26+26:e<s+26?e-s:e<f+26?e-f+26:void 0}function r(t){function r(t){f[l++]=t}var n,o,a,u,c,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=t.length;c="="===t.charAt(s-2)?2:"="===t.charAt(s-1)?1:0,f=new i(3*t.length/4-c),a=c>0?t.length-4:t.length;var l=0;for(n=0,o=0;n<a;n+=4,o+=3)u=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&u)>>16),r((65280&u)>>8),r(255&u);return 2===c?(u=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&u)):1===c&&(u=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(u>>8&255),r(255&u)),f}function o(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,i,a,u=t.length%3,c="";for(o=0,a=t.length-u;o<a;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],c+=r(i);switch(u){case 1:i=t[t.length-1],c+=e(i>>2),c+=e(i<<4&63),c+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],c+=e(i>>10),c+=e(i>>4&63),c+=e(i<<2&63),c+="="}return c}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),u="/".charCodeAt(0),c="0".charCodeAt(0),f="a".charCodeAt(0),s="A".charCodeAt(0),l="-".charCodeAt(0),d="_".charCodeAt(0);t.toByteArray=r,t.fromByteArray=o}(e)},function(t,e){e.read=function(t,e,r,n,o){var i,a,u=8*o-n-1,c=(1<<u)-1,f=c>>1,s=-7,l=r?o-1:0,d=r?-1:1,h=t[e+l];for(l+=d,i=h&(1<<-s)-1,h>>=-s,s+=u;s>0;i=256*i+t[e+l],l+=d,s-=8);for(a=i&(1<<-s)-1,i>>=-s,s+=n;s>0;a=256*a+t[e+l],l+=d,s-=8);if(0===i)i=1-f;else{if(i===c)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,n),i-=f}return(h?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,u,c,f=8*i-o-1,s=(1<<f)-1,l=s>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,_=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=s):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+l>=1?d/c:d*Math.pow(2,1-l),e*c>=2&&(a++,c/=2),a+l>=s?(u=0,a=s):a+l>=1?(u=(e*c-1)*Math.pow(2,o),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[r+h]=255&u,h+=_,u/=256,o-=8);for(a=a<<o|u,f+=o;f>0;t[r+h]=255&a,h+=_,a/=256,f-=8);t[r+h-_]|=128*g}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){function r(){l&&f&&(l=!1,f.length?s=f.concat(s):d=-1,s.length&&n())}function n(){if(!l){var t=a(r);l=!0;for(var e=s.length;e;){for(f=s,s=[];++d<e;)f&&f[d].run();d=-1,e=s.length}f=null,l=!1,u(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,u,c=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(t){u=function(){throw new Error("clearTimeout is not defined")}}}();var f,s=[],l=!1,d=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new o(t,e)),1!==s.length||l||a(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}}]);